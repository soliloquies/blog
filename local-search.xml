<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Juniper commit confirmed operation notice</title>
    <link href="/2023/03/03/Juniper-commit-confirmed-operation-notice/"/>
    <url>/2023/03/03/Juniper-commit-confirmed-operation-notice/</url>
    
    <content type="html"><![CDATA[<hr><p>Juniper qfx series equiment commit command notice.</p><span id="more"></span><h2 id="Event-descript"><a href="#Event-descript" class="headerlink" title="Event descript"></a>Event descript</h2><p>at last week, a engineer operation the qfx device,<br>his add device manage firewall policy.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">32</span> ]Martin@QFX5120-48Y<span class="hljs-comment"># commit confirmed 1 </span><br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">34</span> ]localre: <br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">37</span> ]configuration check succeeds<br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">37</span> ]commit confirmed will be automatically rolled back <span class="hljs-keyword">in</span> <span class="hljs-number">1</span> minutes unless confirmed<br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">37</span> ]commit complete<br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">38</span> ]commit confirmed will be automatically rolled back <span class="hljs-keyword">in</span> <span class="hljs-number">1</span> minutes unless confirmed<br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">38</span> ]commit complete<br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">38</span> ]<br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">38</span> ]<span class="hljs-comment"># commit confirmed will be rolled back in 1 minute</span><br>[ <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">38</span> ]&#123;master:<span class="hljs-number">0</span>&#125;[edit]<br>[ <span class="hljs-number">15</span>:<span class="hljs-number">30</span>:02 ][<span class="hljs-number">20230302_15</span>:<span class="hljs-number">30</span>:02:<span class="hljs-number">111</span>:] end<br></code></pre></td></tr></table></figure><p>That’s OK nothing, and his use new session login the device, a mouent running “commit”.</p><blockquote><p>We monioting system, WARNING !!! the device is <em><strong>Down</strong></em></p></blockquote><p>Login to the core device, and found OSPF status is changed to init.<br>the device does not have a route, the device is offline.</p><h2 id="Fault-backtracking"><a href="#Fault-backtracking" class="headerlink" title="Fault backtracking"></a>Fault backtracking</h2><h3 id="For-1st"><a href="#For-1st" class="headerlink" title="For 1st"></a>For 1st</h3><p>The policy is fault, doesn’t have permit other traffic, so OSPF status changed to init.</p><h3 id="For-2nd"><a href="#For-2nd" class="headerlink" title="For 2nd"></a>For 2nd</h3><p>The “commit confirmed 1”, if 1 min not continue running commit will automatic rollback.<br>But the time is not enough, the device status is not complete synced, and executed the “commit” command.</p><h2 id="Recommand"><a href="#Recommand" class="headerlink" title="Recommand"></a>Recommand</h2><p>Juniper device have very good a feature, that’s commit confirmed 1-10, auto rollback.</p><p>every commit new command, should setting 3 min later auto rollback.</p><p>if not have every trobule, wait 1 to 2 minute and running “commit”</p><h2 id="AI-beauty-girl"><a href="#AI-beauty-girl" class="headerlink" title="AI beauty girl"></a>AI beauty girl</h2><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-04_22-24-47.jpg" alt="photo_2023-02-04_22-24-47.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-04_22-24-47-2.jpg" alt="photo_2023-02-04_22-24-47-2.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-04_22-24-48-2.jpg" alt="photo_2023-02-04_22-24-48-2.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-04_22-24-48-3.jpg" alt="photo_2023-02-04_22-24-48-3.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-27_10-30-59.jpg" alt="photo_2023-02-27_10-30-59.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-27_10-30-59-2.jpg" alt="photo_2023-02-27_10-30-59-2.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-27_10-30-59-3.jpg" alt="photo_2023-02-27_10-30-59-3.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-27_10-31-00.jpg" alt="photo_2023-02-27_10-31-00.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-27_10-31-00-2.jpg" alt="photo_2023-02-27_10-31-00-2.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-27_10-31-00-3.jpg" alt="photo_2023-02-27_10-31-00-3.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-27_10-31-02.jpg" alt="photo_2023-02-27_10-31-02.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/03/03/photo_2023-02-27_10-31-03.jpg" alt="photo_2023-02-27_10-31-03.jpg"> </p>]]></content>
    
    
    <categories>
      
      <category>Juniper</category>
      
      <category>Operation</category>
      
      <category>notice</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Juniper</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Docker Practical Notes</title>
    <link href="/2023/01/25/Docker-Practical-Notes/"/>
    <url>/2023/01/25/Docker-Practical-Notes/</url>
    
    <content type="html"><![CDATA[<p>docker learning operation record.</p><span id="more"></span><ul><li>   <a href="#Docker">Docker</a><ul><li>   <a href="#install">Instll Docker</a></li><li>   <a href="#Portainer">Portainer</a></li><li>   <a href="#Docker-Compoes">Docker-Compoes</a></li><li>   <a href="#Docker-Build">Docker Build</a></li><li>   <a href="#Docker-Push">Dokcer Push</a></li></ul></li><li>   <a href="#Gril">Gril</a></li></ul><h1 id="Docker"> Dokcer </h1><h2 id="install"> Install Docker </h2><p>apt install it</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get update<br>sudo apt-get install \<br>    ca-certificates \<br>    curl \<br>    gnupg \<br>    lsb-release<br></code></pre></td></tr></table></figure></br>add GPG key<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">mkdir</span> -p /etc/apt/keyrings<br>curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg<br></code></pre></td></tr></table></figure><p>update and install docker-engine</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get update<br>apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin<br><br><span class="hljs-comment"># if result build information is OK.</span><br>docker -v<br><br></code></pre></td></tr></table></figure><h2 id="Portainer"> Portainer </h2><p>First, create the volume that Portainer Server will use to store its database:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker volume create portainer_data<br></code></pre></td></tr></table></figure><p>Download and install the Portainer Server container</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run -d -p 9000:9000  --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:latest<br></code></pre></td></tr></table></figure><p>You can log into your Portainer Server instance by opening a web browser and going to:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">https://localhost:9000<br></code></pre></td></tr></table></figure><h2 id="Docker-Compoes"> Docker-Compose </h2>For Exampleif our needs running cortainer <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run -d -p 7000:80 --name nextcloud nextcloud<br><br>docker run -d -p 3306:3306 --name mysql mysql<br></code></pre></td></tr></table></figure><p>It is cumbersome to start each container separately, and it is difficult to manage if there are many containers<br></br><br>So, our docker-compose crate manage container.</p><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs docker">version: <span class="hljs-string">&#x27;2&#x27;</span><br><br>volumes:<br>  nextcloud:<br>  db:<br><br><br>networks:<br>  nextcloud24_fpm:<br><br><br>services:<br>  db:<br>    image: mysql<br>    command: --default-authentication-plugin=mysql_native_password<br>    restart: always<br>    networks:<br>      - nextcloud24_fpm<br>    volumes:<br>      - db:/var/lib/mysql<br>    environment:<br>      - MYSQL_ROOT_PASSWORD=nextcloud<br>      - MYSQL_PASSWORD=nextcloud<br>      - MYSQL_DATABASE=nextcloud<br>      - MYSQL_USER=nextcloud<br><br><br><br>  app:<br>    image: nextcloud<br>    restart: always<br>    networks:<br>      - nextcloud24_fpm<br>    links:<br>      - db<br>    volumes:<br>      - nextcloud:/var/www/html<br>    environment:<br>      - MYSQL_PASSWORD=nextcloud<br>      - MYSQL_DATABASE=nextcloud<br>      - MYSQL_USER=nextcloud<br>      - MYSQL_HOST=db<br><br>  web:<br>    image: nginx<br>    restart: always<br>    networks:<br>      nextcloud24_fpm:<br>    ports:<br>      <span class="hljs-comment">#- 58080:80</span><br>      - <span class="hljs-number">8441</span>:<span class="hljs-number">8441</span><br>    links:<br>      - app<br>    volumes:<br>      - /mnt/data/nextcloud_nginx/nginx.conf:/etc/nginx/nginx.conf:ro<br>      - /mnt/data/nextcloud_nginx/cert.crt:/etc/nginx/cert.crt:ro<br>      - /mnt/data/nextcloud_nginx/cert.key:/etc/nginx/cert.key:ro<br>    volumes_from:<br>      - app<br></code></pre></td></tr></table></figure><p>Save as <strong>docker-compose.yml</strong> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker-compose pull<br><br>docker-compose up<br></code></pre></td></tr></table></figure><h2 id="Docker-Build"> Docker Build </h2>Above, we installed nextcloud using docker-compose<p>We need to install ffmpeg in this container, but if this container is restarted then the installed content will be lost.</p><h2 id="Use-Dockerfile-to-Generate-images"><a href="#Use-Dockerfile-to-Generate-images" class="headerlink" title="Use Dockerfile to Generate images."></a>Use Dockerfile to Generate images.</h2><p>Get project dockerfile </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/nextcloud/docker<br></code></pre></td></tr></table></figure><p>Edit the dockerfile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># file tree </span><br><br>└── docker<br>    ├── 23<br>    │   ├── apache<br>    │   ├── fpm<br>    │   └── fpm-alpine<br>    ├── 24<br>    │   ├── apache<br>    │   ├── fpm<br>    │   └── fpm-alpine<br>    ├── 25<br>    │   ├── apache<br>    │   ├── fpm<br>    │   └── fpm-alpine<br>    ├── CODE_OF_CONDUCT.md<br>    ├── docker-cron.sh<br>    ├── docker-entrypoint.sh<br>    ├── Dockerfile-alpine.template<br>    ├── Dockerfile-debian.template<br>    ├── generate-stackbrew-library.sh<br>    ├── latest.txt<br>    ├── LICENSE.md<br>    ├── logo.svg<br>    ├── README.md<br>    ├── stack.yml<br>    ├── update.sh<br>    └── upgrade.exclude<br><br></code></pre></td></tr></table></figure><p>We use 24 </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs stylus">../<span class="hljs-number">24</span><br>├── fpm<br>│   ├── config<br>│   │   ├── apcu<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.php</span><br>│   │   ├── apps<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.php</span><br>│   │   ├── autoconfig<span class="hljs-selector-class">.php</span><br>│   │   ├── redis<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.php</span><br>│   │   ├── reverse-proxy<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.php</span><br>│   │   ├── s3<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.php</span><br>│   │   ├── smtp<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.php</span><br>│   │   └── swift<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.php</span><br>│   ├── cron<span class="hljs-selector-class">.sh</span><br>│   ├── Dockerfile<br>│   ├── entrypoint<span class="hljs-selector-class">.sh</span><br>│   └── upgrade.exclude<br></code></pre></td></tr></table></figure><p>Edit the Dcokerfile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># DO NOT EDIT: created by update.sh from Dockerfile-debian.template</span><br>FROM php:8.0-fpm-bullseye<br><br><span class="hljs-comment"># entrypoint.sh and cron.sh dependencies</span><br>RUN <span class="hljs-built_in">set</span> -ex; \<br>    \<br>    apt-get update; \<br>    apt-get install -y --no-install-recommends \<br>        rsync \<br>        bzip2 \<br>        busybox-static \<br>        libldap-common \<br>    ; \<br><br><br><span class="hljs-comment"># Add ffmpeg</span><br><span class="hljs-comment"># DO NOT EDIT: created by update.sh from Dockerfile-debian.template</span><br>FROM php:8.0-fpm-bullseye<br><br><span class="hljs-comment"># entrypoint.sh and cron.sh dependencies</span><br>RUN <span class="hljs-built_in">set</span> -ex; \<br>    \<br>    apt-get update; \<br>    apt-get install -y --no-install-recommends \<br>        rsync \<br>        bzip2 \<br>        busybox-static \<br>        libldap-common \<br>        ffmpeg \<br>        libmagickcore-6.q16-6-extra \<br>        smbclient \<br>        graphicsmagick \<br>        net-tools \<br>    ; \<br><br></code></pre></td></tr></table></figure><h2 id="Build-images"><a href="#Build-images" class="headerlink" title="Build images"></a>Build images</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker build -t nextcloud-fpm24:qian .<br><br><span class="hljs-comment"># -t is tag, imput your like neme xxx:xxx</span><br></code></pre></td></tr></table></figure><h2 id="Docker-Push"> Docker Push </h2><p>Above, We to generate docker images, if you have docker hub access can push them to The docker hub.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># login you docker hub account.</span><br>docker login<br><br>docker push nextcloud-fpm24:qian<br></code></pre></td></tr></table></figure><h1 id="Gril"> Gril </h1><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/076.webp" alt="076.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/071.webp" alt="071.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/070.webp" alt="070.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/063.webp" alt="063.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/062.webp" alt="062.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/059609b4a26a120a518.webp" alt="059609b4a26a120a518.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0569dbdea246dcd12c7.webp" alt="0569dbdea246dcd12c7.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0553bfa4b5f73682144.webp" alt="0553bfa4b5f73682144.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/054816394829b36473a.webp" alt="054816394829b36473a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/05318f4dfa02830efaa.webp" alt="05318f4dfa02830efaa.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/05215e335398749054d.webp" alt="05215e335398749054d.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/05188abf3dd3803205e.webp" alt="05188abf3dd3803205e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/050156a9331d22b85b0.webp" alt="050156a9331d22b85b0.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0494a013db7b7c0700a.webp" alt="0494a013db7b7c0700a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0486bff917804041006.webp" alt="0486bff917804041006.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/047a8e9ccb62b527c18.webp" alt="047a8e9ccb62b527c18.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0461f74a3769f59fffd.webp" alt="0461f74a3769f59fffd.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/04587d7bf03458973fc.webp" alt="04587d7bf03458973fc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0445d6d44bb20ed9094.webp" alt="0445d6d44bb20ed9094.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0433c420b416403fa06.webp" alt="0433c420b416403fa06.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/042e7f82f7bdddeb9ec.webp" alt="042e7f82f7bdddeb9ec.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/04181b4bbe950d3cdce.webp" alt="04181b4bbe950d3cdce.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0407fc4ef206cb9315d.webp" alt="0407fc4ef206cb9315d.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/03984ce35806b910b9e.webp" alt="03984ce35806b910b9e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0387c21f3e831510cb2.webp" alt="0387c21f3e831510cb2.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0372f3a6ffcd0991ad3.webp" alt="0372f3a6ffcd0991ad3.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/036583643b6e2de4a6c.webp" alt="036583643b6e2de4a6c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/035d2a4da06782bef89.webp" alt="035d2a4da06782bef89.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0348c38e20a6984b750.webp" alt="0348c38e20a6984b750.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/033e671dd4079878615.webp" alt="033e671dd4079878615.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/032d92fd800df763c18.webp" alt="032d92fd800df763c18.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/031c96ca35335fe06c2.webp" alt="031c96ca35335fe06c2.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/03053447cb5658f0251.webp" alt="03053447cb5658f0251.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0290659bf4452d951d6.webp" alt="0290659bf4452d951d6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/028f981a2895679223b.webp" alt="028f981a2895679223b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0277e268cb6ba3b6c3a.webp" alt="0277e268cb6ba3b6c3a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/02611d0e7815935fe6b.webp" alt="02611d0e7815935fe6b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/025619a70c84c734027.webp" alt="025619a70c84c734027.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/024aa8ca0faf3920bc2.webp" alt="024aa8ca0faf3920bc2.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/023c7a08d29e1ad89ff.webp" alt="023c7a08d29e1ad89ff.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0223a3103d46239b548.webp" alt="0223a3103d46239b548.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/021256fff44cfeb02cc.webp" alt="021256fff44cfeb02cc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/02050c479a6cce13a1c.webp" alt="02050c479a6cce13a1c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/019bb679a6fc21fe820.webp" alt="019bb679a6fc21fe820.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/018205e25c6711090d0.webp" alt="018205e25c6711090d0.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0171d963edd67f11dc9.webp" alt="0171d963edd67f11dc9.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0166a6dfc1417c93c4b.webp" alt="0166a6dfc1417c93c4b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/015f771a4a380ed4f27.webp" alt="015f771a4a380ed4f27.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0130f736ec495c657c8.webp" alt="0130f736ec495c657c8.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/014c5775621bbdf23d5.webp" alt="014c5775621bbdf23d5.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0128e72771d9ed891a4.webp" alt="0128e72771d9ed891a4.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0118f73452548d93927.webp" alt="0118f73452548d93927.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/010448716105fd84c74.webp" alt="010448716105fd84c74.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0093688b7356a8e8b2a.webp" alt="0093688b7356a8e8b2a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/008053d1b9f6c1c29ef.webp" alt="008053d1b9f6c1c29ef.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/007483c55f78a7ae84b.webp" alt="007483c55f78a7ae84b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/005740873c224e28877.webp" alt="005740873c224e28877.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/006ac082cb70f05fbd1.webp" alt="006ac082cb70f05fbd1.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0043f6a605daba16650.webp" alt="0043f6a605daba16650.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/003b90ec2475be9bcaa.webp" alt="003b90ec2475be9bcaa.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/002f8a8294a3281cb0e.webp" alt="002f8a8294a3281cb0e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/001bd10e7c91e953736.webp" alt="001bd10e7c91e953736.webp"></p>]]></content>
    
    
    <categories>
      
      <category>Docker</category>
      
      <category>Docker-Compoes</category>
      
      <category>Build</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Generate image acquisition commands</title>
    <link href="/2023/01/09/Generate-image-acquisition-commands/"/>
    <url>/2023/01/09/Generate-image-acquisition-commands/</url>
    
    <content type="html"><![CDATA[<p>Python generate multi command get image</p><span id="more"></span><h1 id="Use-Python-to-get-some-beautiful-photo-albums-of-public-websites"><a href="#Use-Python-to-get-some-beautiful-photo-albums-of-public-websites" class="headerlink" title="Use Python to get some beautiful photo albums of public websites"></a>Use Python to get some beautiful photo albums of public websites</h1><h2 id="Python-code"><a href="#Python-code" class="headerlink" title="Python code"></a>Python code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># coding = utf-8</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_result_wai77</span>(<span class="hljs-params"><span class="hljs-built_in">range</span>,url</span>):<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">range</span> &lt; <span class="hljs-number">10</span>:<br>        result = (<span class="hljs-string">&#x27;wget -b --user-agent=&quot;Mozilla/5.0 (Windows NT 6.1; &#x27;</span><br>                   <span class="hljs-string">&#x27;Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span><br>                   <span class="hljs-string">&#x27;Chrome/79.0.3945.130 Safari/537.36&quot; &#123;&#125;00&#123;&#125;.webp&#x27;</span>.<span class="hljs-built_in">format</span>(url,<span class="hljs-built_in">range</span>))<br><br>    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">range</span> &lt; <span class="hljs-number">100</span> :<br>        result = (<span class="hljs-string">&#x27;wget -b --user-agent=&quot;Mozilla/5.0 (Windows NT 6.1; &#x27;</span><br>                   <span class="hljs-string">&#x27;Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span><br>                   <span class="hljs-string">&#x27;Chrome/79.0.3945.130 Safari/537.36&quot; &#123;&#125;0&#123;&#125;.webp&#x27;</span>.<span class="hljs-built_in">format</span>(url,<span class="hljs-built_in">range</span>))<br><br>    <span class="hljs-keyword">else</span>:<br>        result = (<span class="hljs-string">&#x27;wget -b --user-agent=&quot;Mozilla/5.0 (Windows NT 6.1; &#x27;</span><br>                   <span class="hljs-string">&#x27;Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span><br>                   <span class="hljs-string">&#x27;Chrome/79.0.3945.130 Safari/537.36&quot; &#123;&#125;&#123;&#125;.webp&#x27;</span>.<span class="hljs-built_in">format</span>(url,<span class="hljs-built_in">range</span>))<br><br><br><br><br>    <span class="hljs-keyword">return</span> result<br><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_result_XiuRen</span>(<span class="hljs-params"><span class="hljs-built_in">range</span>,url</span>):<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">range</span> &lt; <span class="hljs-number">10</span>:<br>        result = (<span class="hljs-string">&#x27;wget -b --user-agent=&quot;Mozilla/5.0 (Windows NT 6.1; &#x27;</span><br>                   <span class="hljs-string">&#x27;Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span><br>                   <span class="hljs-string">&#x27;Chrome/79.0.3945.130 Safari/537.36&quot; &#123;&#125;000&#123;&#125;.jpg&#x27;</span>.<span class="hljs-built_in">format</span>(url,<span class="hljs-built_in">range</span>))<br><br>    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">range</span> &lt; <span class="hljs-number">100</span> :<br>        result = (<span class="hljs-string">&#x27;wget -b --user-agent=&quot;Mozilla/5.0 (Windows NT 6.1; &#x27;</span><br>                   <span class="hljs-string">&#x27;Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span><br>                   <span class="hljs-string">&#x27;Chrome/79.0.3945.130 Safari/537.36&quot; &#123;&#125;00&#123;&#125;.jpg&#x27;</span>.<span class="hljs-built_in">format</span>(url,<span class="hljs-built_in">range</span>))<br><br>    <span class="hljs-keyword">else</span>:<br>        result = (<span class="hljs-string">&#x27;wget -b --user-agent=&quot;Mozilla/5.0 (Windows NT 6.1; &#x27;</span><br>                   <span class="hljs-string">&#x27;Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span><br>                   <span class="hljs-string">&#x27;Chrome/79.0.3945.130 Safari/537.36&quot; &#123;&#125;0&#123;&#125;.jpg&#x27;</span>.<span class="hljs-built_in">format</span>(url,<span class="hljs-built_in">range</span>))<br><br><br><br><br>    <span class="hljs-keyword">return</span> result<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main_XiuRen</span>():<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">69</span>):<br>        url = <span class="hljs-string">&#x27;http://www.xiuren.org/xiuren2/XiuRen-N02513/&#x27;</span><br><br>        <span class="hljs-built_in">print</span>(_result_XiuRen(i,url))<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;mkdir -p /opt/smb/video/Image/20221227_N02513/&#x27;</span>)<br><br>    frist = <span class="hljs-string">&#x27;http://www.xiuren.org/images/2021/07/2190845000.jpg&#x27;</span><br><br><br>    result = (<span class="hljs-string">&#x27;wget -b --user-agent=&quot;Mozilla/5.0 (Windows NT 6.1; &#x27;</span><br>                   <span class="hljs-string">&#x27;Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span><br>                   <span class="hljs-string">&#x27;Chrome/79.0.3945.130 Safari/537.36&quot; &#123;&#125; &#x27;</span>.<span class="hljs-built_in">format</span>(frist))<br><br>    <span class="hljs-built_in">print</span>(result)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_main_wai77</span>():<br>    dir_name = <span class="hljs-string">&#x27;20230107_软软爱吃肉-白色内衣搭配原色丝袜&#x27;</span><br>    url = <span class="hljs-string">&#x27;https://www.wai77.com/gallery/mjc4nda/mzk3nzc/&#x27;</span><br>    frist = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;url&#125;</span>/0.webp&#x27;</span><br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>):<br><br><br>        <span class="hljs-built_in">print</span>(_result_wai77(i,url))<br><br><br><br><br><br>    result = (<span class="hljs-string">&#x27;wget -b --user-agent=&quot;Mozilla/5.0 (Windows NT 6.1; &#x27;</span><br>                   <span class="hljs-string">&#x27;Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span><br>                   <span class="hljs-string">&#x27;Chrome/79.0.3945.131 Safari/537.36&quot; &#123;&#125; &#x27;</span>.<span class="hljs-built_in">format</span>(frist))<br><br><br>    <span class="hljs-built_in">print</span>(result)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;mkdir -p &quot;/opt/smb/video/Image/<span class="hljs-subst">&#123;dir_name&#125;</span>/&quot;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;sleep 35 &amp;&amp; yes | mv *.webp &quot;/opt/smb/video/Image/<span class="hljs-subst">&#123;dir_name&#125;</span>/&quot;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ls &amp;&amp; rm * -rf&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ls -la&#x27;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    _main_wai77()<br></code></pre></td></tr></table></figure><h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p>You can input linux&#x2F;unix envrionment terminal the result.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -b --user-agent=<span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36&quot;</span> https://www.wai77.com/gallery/mjc4nda/mzk3nzc/097.webp<br></code></pre></td></tr></table></figure><h1 id="Appreciation-of-beautiful-pictures"><a href="#Appreciation-of-beautiful-pictures" class="headerlink" title="Appreciation of beautiful pictures"></a>Appreciation of beautiful pictures</h1><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/001b927b7829281bedf.webp" alt="001b927b7829281bedf.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0bf98b0292a809029.webp" alt="0bf98b0292a809029.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/002415ac55a6b1d909a.webp" alt="002415ac55a6b1d909a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0035a41264c1a463abd.webp" alt="0035a41264c1a463abd.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0047156b8228fdbabdc.webp" alt="0047156b8228fdbabdc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0057d883ae58ea2f6a6.webp" alt="0057d883ae58ea2f6a6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/006a3b11c7228779e69.webp" alt="006a3b11c7228779e69.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/007a0f7d9992cdedfde.webp" alt="007a0f7d9992cdedfde.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/008d3627c4abf41aa95.webp" alt="008d3627c4abf41aa95.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0092427735e4fafff71.webp" alt="0092427735e4fafff71.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/010662a0cca49dc4f61.webp" alt="010662a0cca49dc4f61.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/011482ec4136bc264cb.webp" alt="011482ec4136bc264cb.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/012a7ea32279e84e66f.webp" alt="012a7ea32279e84e66f.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0137db74316b5563596.webp" alt="0137db74316b5563596.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/014f9422c70d8c524e1.webp" alt="014f9422c70d8c524e1.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/015c4b872342e77aa7f.webp" alt="015c4b872342e77aa7f.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/016a80282787e6d64b1.webp" alt="016a80282787e6d64b1.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0170f41fd582d450f9f.webp" alt="0170f41fd582d450f9f.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0183532c0f763af8697.webp" alt="0183532c0f763af8697.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/019ff3787f28555ff58.webp" alt="019ff3787f28555ff58.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0202621f24aa85d9d8b.webp" alt="0202621f24aa85d9d8b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0216b202cb13fb4f336.webp" alt="0216b202cb13fb4f336.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/022a806c8ccccf4edba.webp" alt="022a806c8ccccf4edba.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0231b99d7f4a63fe670.webp" alt="0231b99d7f4a63fe670.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0243486378a4090a979.webp" alt="0243486378a4090a979.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0254096985782c76f6a.webp" alt="0254096985782c76f6a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/02641c8d5550e9b9b5e.webp" alt="02641c8d5550e9b9b5e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0272568954e5f5578b1.webp" alt="0272568954e5f5578b1.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0289a701ec853eba5c6.webp" alt="0289a701ec853eba5c6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0293465e9323cdbc151.webp" alt="0293465e9323cdbc151.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/030821cb5f33a0f5fdc.webp" alt="030821cb5f33a0f5fdc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0319ea34a8bfe8eac9a.webp" alt="0319ea34a8bfe8eac9a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0323fb939dbc900d152.webp" alt="0323fb939dbc900d152.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0330246deadfe923c4b.webp" alt="0330246deadfe923c4b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/034cc4e7a72691112e6.webp" alt="034cc4e7a72691112e6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/03552ad03d38e614805.webp" alt="03552ad03d38e614805.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/036a34e0945b095f2ac.webp" alt="036a34e0945b095f2ac.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/037023028a1e31bb12c.webp" alt="037023028a1e31bb12c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/03800d98c8510554354.webp" alt="03800d98c8510554354.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/039281113fb593d3cd5.webp" alt="039281113fb593d3cd5.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0406d1490b7961150e3.webp" alt="0406d1490b7961150e3.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/041ca746db896d9f711.webp" alt="041ca746db896d9f711.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0425ca488be862e8eab.webp" alt="0425ca488be862e8eab.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/04300ad1e3d3a67ef06.webp" alt="04300ad1e3d3a67ef06.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/044c034c0fe2588e05e.webp" alt="044c034c0fe2588e05e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/04574cf6315e83599d5.webp" alt="04574cf6315e83599d5.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/046e45c0bf2ec857613.webp" alt="046e45c0bf2ec857613.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/047057b331019f60e0d.webp" alt="047057b331019f60e0d.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/048aac3b918f995d7db.webp" alt="048aac3b918f995d7db.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/04969909af4b2c71605.webp" alt="04969909af4b2c71605.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/05080f82071953765cc.webp" alt="05080f82071953765cc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/05158ce29b83d76cae6.webp" alt="05158ce29b83d76cae6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/052f4bf34e1f528e02b.webp" alt="052f4bf34e1f528e02b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/05367e6f7c09cf94762.webp" alt="05367e6f7c09cf94762.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/054e6870c9947df1102.webp" alt="054e6870c9947df1102.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/055508c8fcef3fa6036.webp" alt="055508c8fcef3fa6036.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0565b527bd639a2207b.webp" alt="0565b527bd639a2207b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/057fe6a91ed6199e85b.webp" alt="057fe6a91ed6199e85b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/05898a430472af059cc.webp" alt="05898a430472af059cc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/0596805942afb6882ed.webp" alt="0596805942afb6882ed.webp"></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
      <category>generate</category>
      
      <category>command</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux init configuration</title>
    <link href="/2023/01/07/Linux-init-configuration/"/>
    <url>/2023/01/07/Linux-init-configuration/</url>
    
    <content type="html"><![CDATA[<p>Linux baisc commands</p><span id="more"></span><h1 id="Linux-basic-config"><a href="#Linux-basic-config" class="headerlink" title="Linux basic config"></a>Linux basic config</h1><h2 id="basic-tool-and-services"><a href="#basic-tool-and-services" class="headerlink" title="basic tool and services"></a>basic tool and services</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install epel-release wget htop vim htop net-tools iftop psmisc -y<br>timedatectl set-timezone Asia/Shanghai<br><span class="hljs-built_in">chmod</span> +x /etc/rc.d/rc.local<br></code></pre></td></tr></table></figure><h2 id="configure"><a href="#configure" class="headerlink" title="configure"></a>configure</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@esbserver01 ~]<span class="hljs-comment"># vi /etc/sysconfig/network-scripts/ifcfg-ens192</span><br>Old :<br>BOOTPROTO=DHCP<br>ONBOOT=<span class="hljs-built_in">yes</span> <br><br>New:<br>BOOTPROTO=static<br>ONBOOT=<span class="hljs-built_in">yes</span><br>IPADDR=172.16.54.195<br>NETMASK=255.255.255.0<br>GATEWAY=172.16.54.254<br>[root@esbserver01 ~]<span class="hljs-comment"># systemctl restart network</span><br><span class="hljs-comment">#restart network</span><br><br>[root@esbserver01 ~]<span class="hljs-comment"># timedatectl set-timezone Asia/Shanghai</span><br><span class="hljs-comment">#change time zone as Asia/Shanghai</span><br><br>[root@esbserver01 ~]<span class="hljs-comment"># yum install ntpdate -y</span><br><br><span class="hljs-comment">#wait to install is complete</span><br>[root@esbserver01 ~]<span class="hljs-comment"># ntpdate -u [ntp server]</span><br> 1 Jun 23:08:06 ntpdate[9827]: adjust time server 172.16.54.254 offset -0.016128 sec<br><br>[root@esbserver01 ~]<span class="hljs-comment"># date</span><br>Tue Jun  1 23:08:58 CST 2022<br><span class="hljs-comment">#display time</span><br><br><br><br><br>[root@esbserver01 ~]<span class="hljs-comment"># hostnamectl</span><br>Tue Jun  1 23:08:58 CST 2021<br>[root@esbserver01 ~]<span class="hljs-comment"># hostnamectl</span><br>   Static hostname: esbserver01<br>         Icon name: computer-vm<br>           Chassis: vm<br>        Machine ID: fdc084d075474203ac92242f05f403d1<br>           Boot ID: 9a049d599a304670a3e9f20df65182bd<br>    Virtualization: vmware<br>  Operating System: CentOS Linux 7 (Core)<br>       CPE OS Name: cpe:/o:centos:centos:7<br>            Kernel: Linux 3.10.0-1127.el7.x86_64<br>      Architecture: x86-64<br><br>[root@esbserver01 ~]<span class="hljs-comment"># hostnamectl set-hostname yourname</span><br><span class="hljs-comment">#change your device hostname</span><br><br><br>[root@esbserver01 ~]<span class="hljs-comment"># fdisk -l</span><br><span class="hljs-comment">#display disk information </span><br><br>[root@esbserver01 ~]<span class="hljs-comment"># fdisk /dev/sdb   </span><br><span class="hljs-comment"># /dev/sdb as disk&#x27;s path</span><br>------------------------------------------------------------------<br>Show Command , input n ,p,1,2048,last,enter,wq .<br>Exit and write .<br>------------------------------------------------------------------<br>If your device is virtual machine, pls reboot it .<br><br>[root@esbserver01 ~]<span class="hljs-comment"># mkfs.ext4 /dev/sdb1</span><br><span class="hljs-comment">#disk initial   </span><br><br>[root@esbserver01 ~]<span class="hljs-comment"># mount /dev/sdb1 /home</span><br><span class="hljs-comment"># /home need use mkdir create</span><br><br>[root@esbserver01 ~]<span class="hljs-comment"># df-h</span><br><span class="hljs-comment">#check disk mount information</span><br><br>[root@esbserver01 ~]<span class="hljs-comment"># vi /etc/fstab</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># /etc/fstab</span><br><span class="hljs-comment"># Created by anaconda on Wed Jun  2 04:48:42 2021</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Accessible filesystems, by reference, are maintained under &#x27;/dev/disk&#x27;</span><br><span class="hljs-comment"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span><br><span class="hljs-comment">#</span><br>/dev/mapper/centos-root /                       xfs     defaults        0 0<br>UUID=a8222bbf-777a-4282-9587-ae8cad1891cd /boot                   xfs     defaults        0 0<br>/dev/mapper/centos-swap swap                    swap    defaults        0 0<br>/dev/sdb1 /date/sdb1 ext4 defaults 0 0<br><span class="hljs-comment">#Start automount , just add it at the end .</span><br><br><span class="hljs-comment"># if some file/dir not remove </span><br>[root@esbserver01 ~]<span class="hljs-comment"># rm 1.txt -rf</span><br>Operation not permitted<br>[root@esbserver01 ~]<span class="hljs-comment"># chattr -I 1.txt</span><br>[root@esbserver01 ~]<span class="hljs-comment"># rm 1.txt -rf</span><br></code></pre></td></tr></table></figure><h2 id="enable-some-system-service"><a href="#enable-some-system-service" class="headerlink" title="enable some system service"></a>enable some system service</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl <span class="hljs-built_in">enable</span> crond &amp;&amp; systemctl restart crond<br>systemctl <span class="hljs-built_in">enable</span> firewalld &amp;&amp; systemctl restart firewalld<br></code></pre></td></tr></table></figure><h2 id="Begin-to-install-another-service-for-our-needs"><a href="#Begin-to-install-another-service-for-our-needs" class="headerlink" title="Begin to install another service for our needs"></a>Begin to install another service for our needs</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># install Python3</span><br>yum -y groupinstall <span class="hljs-string">&quot;Development tools&quot;</span> &amp;&amp; yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel &amp;&amp; yum install -y libffi-devel zlib1g-dev &amp;&amp; yum install zlib* -y &amp;&amp;  wget https://www.python.org/ftp/python/3.7.2/Python-3.7.2.tar.xz &amp;&amp; tar -xvJf  Python-3.7.2.tar.xz &amp;&amp; <span class="hljs-built_in">mkdir</span> /usr/local/python3  &amp;&amp; <span class="hljs-built_in">cd</span> Python-3.7.2 &amp;&amp; ./configure --prefix=/usr/local/python3 --enable-optimizations --with-ssl  &amp;&amp; make &amp;&amp; make install<br><span class="hljs-built_in">ln</span> -s /usr/local/python3/bin/python3 /usr/local/bin/python3<br><span class="hljs-built_in">ln</span> -s /usr/local/python3/bin/pip3 /usr/local/bin/pip3<br><br><br><br><span class="hljs-comment"># install n2n Peer-To-Peer VPN</span><br>yum install git -y &amp;&amp; git <span class="hljs-built_in">clone</span> https://github.com/meyerd/n2n.git &amp;&amp; <span class="hljs-built_in">cd</span> n2n/n2n_v2 &amp;&amp; yum install -y openssl-devel &amp;&amp; yum install -y cmake &amp;&amp; yum install -y net-tools &amp;&amp; yum install -y git &amp;&amp; yum install -y gcc gcc-c++ &amp;&amp; <span class="hljs-built_in">mkdir</span> build &amp;&amp; <span class="hljs-built_in">cd</span> build &amp;&amp; cmake .. &amp;&amp; make &amp;&amp; make install<br><br><span class="hljs-comment"># for example:</span><br>/usr/local/sbin/edge -a 10.10.10.251 -c 1024 -k 1024 -l dc.xiaoxqian.xyz:5000<br>/usr/local/sbin/supernode -l 5000<br><br><br><br><span class="hljs-comment"># install Ocserv (OpenConnetServer)</span><br>yum install ocserv -y<br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF&gt; /etc/ocserv/ocserv.conf</span><br><span class="hljs-string">auth = &quot;plain[passwd=/etc/ocserv/ocpasswd]&quot;</span><br><span class="hljs-string">enable-auth = &quot;certificate&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">tcp-port = 8443</span><br><span class="hljs-string">udp-port = 8443</span><br><span class="hljs-string">run-as-user = ocserv</span><br><span class="hljs-string">run-as-group = ocserv</span><br><span class="hljs-string">socket-file = ocserv.sock</span><br><span class="hljs-string">chroot-dir = /var/lib/ocserv</span><br><span class="hljs-string">max-clients = 10</span><br><span class="hljs-string">max-same-clients = 10</span><br><span class="hljs-string">rate-limit-ms = 100</span><br><span class="hljs-string">keepalive = 32400</span><br><span class="hljs-string">dpd = 90</span><br><span class="hljs-string">mobile-dpd = 1800</span><br><span class="hljs-string">switch-to-tcp-timeout = 25</span><br><span class="hljs-string">#try-mtu-discovery = true</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">ca-cert = /etc/pki/ocserv/cacerts/ca-cert.pem</span><br><span class="hljs-string">server-cert = /etc/pki/ocserv/public/cert.crt</span><br><span class="hljs-string">server-key = /etc/pki/ocserv/private/private.key</span><br><span class="hljs-string">cert-user-oid = 2.5.4.3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">tls-priorities = &quot;NORMAL:%SERVER_PRECEDENCE:%COMPAT:-VERS-SSL3.0&quot;</span><br><span class="hljs-string">auth-timeout = 240</span><br><span class="hljs-string">min-reauth-time = 300</span><br><span class="hljs-string">max-ban-score = 50</span><br><span class="hljs-string">ban-reset-time = 300</span><br><span class="hljs-string">cookie-timeout = 86400</span><br><span class="hljs-string">deny-roaming = false</span><br><span class="hljs-string">rekey-time = 172800</span><br><span class="hljs-string">rekey-method = ssl</span><br><span class="hljs-string">use-occtl = true</span><br><span class="hljs-string">pid-file = /var/run/ocserv.pid</span><br><span class="hljs-string">device = vpns</span><br><span class="hljs-string">default-domain = name.xiaoxqian.xyz</span><br><span class="hljs-string">ipv4-network = 172.31.0.0/24</span><br><span class="hljs-string">ipv6-network = 240e:36a:fcb:ea00::/64</span><br><span class="hljs-string">route = default</span><br><span class="hljs-string">mtu = 1350</span><br><span class="hljs-string">dns = 10.0.0.41</span><br><span class="hljs-string">dns = 240e:d:1000:100::6</span><br><span class="hljs-string">dns = 10.0.0.60</span><br><span class="hljs-string">ping-leases = false</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># Need re-start ocserv process</span><br>systemctl restart ocserv<br></code></pre></td></tr></table></figure><h2 id="starup-service"><a href="#starup-service" class="headerlink" title="starup service"></a>starup service</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x /etc/rc.d/rc.local<br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF&gt;&gt; /etc/rc.d/rc.local</span><br><span class="hljs-string">mount -t cifs -o username=user,password=password //10.0.0.255/j /opt/smb</span><br><span class="hljs-string">/usr/local/sbin/edge -a 10.10.10.251 -c 2048 -k 2048 -l dc.xiaoxqian.xyz:5000</span><br><span class="hljs-string">ping6 hades.xiaoxqian.xyz &gt;&gt; /root/Test-ipv6-AtBoot.log 2&gt;&amp;1</span><br><span class="hljs-string">EOF</span><br></code></pre></td></tr></table></figure><h2 id="firewall-permit-port-and-forward-port"><a href="#firewall-permit-port-and-forward-port" class="headerlink" title="firewall permit port and forward port"></a>firewall permit port and forward port</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># remember it, firewall any change must reload firewalld</span><br><br><span class="hljs-comment"># Port forward cofingure</span><br><span class="hljs-comment"># frist enable firewall</span><br>systemctl <span class="hljs-built_in">enable</span> firewalld<br>systemctl restart firewalld &amp;&amp; systemctl status firewalld<br><br><span class="hljs-comment"># show firewall permit ports</span><br>firewall-cmd --zone=public --list-ports<br><br><span class="hljs-comment"># show firewall forward all ports.</span><br>firewall-cmd --list-forward-ports<br><br><span class="hljs-comment"># Permit allow port</span><br>firewall-cmd --zone=public --add-port=5000/tcp --permanent<br>firewall-cmd --zone=public --add-port=50001/tcp --permanent<br>firewall-cmd --zone=public --add-port=50002/tcp --permanent<br>firewall-cmd --zone=public --add-port=40001/tcp --permanent<br>firewall-cmd --zone=public --add-port=50022/tcp --permanent<br>firewall-cmd --zone=public --add-port=1433/tcp --permanent<br>firewall-cmd --zone=public --add-port=50007/tcp --permanent<br>firewall-cmd --zone=public --add-port=30080/tcp --permanent<br>firewall-cmd --zone=public --add-port=1688/tcp --permanent<br>firewall-cmd --zone=public --add-port=1688/udp --permanent<br>firewall-cmd --zone=public --add-port=8443/udp --permanent<br>firewall-cmd --zone=public --add-port=8443/udp --permanent<br><br><span class="hljs-comment"># it&#x27;s my needs port forward-list&quot;</span><br>firewall-cmd --add-forward-port=port=50001:proto=tcp:toaddr=10.10.10.99:toport=50001 --permanent<br>firewall-cmd --add-forward-port=port=50002:proto=tcp:toaddr=10.10.10.99:toport=50002 --permanent<br>firewall-cmd --add-forward-port=port=40001:proto=tcp:toaddr=10.10.10.199:toport=40001 --permanent<br>firewall-cmd --add-forward-port=port=50022:proto=tcp:toaddr=10.10.10.99:toport=50022 --permanent<br>firewall-cmd --add-forward-port=port=50006:proto=tcp:toaddr=10.10.10.99:toport=50006 --permanent<br>firewall-cmd --add-forward-port=port=1433:proto=tcp:toaddr=10.10.10.99:toport=51433 --permanent<br>firewall-cmd --add-forward-port=port=50007:proto=tcp:toaddr=10.10.10.99:toport=50007 --permanent<br>firewall-cmd --add-forward-port=port=30080:proto=tcp:toaddr=10.10.10.99:toport=30080 --permanent<br>firewall-cmd --add-masquerade --permanent<br>firewall-cmd --reload<br><span class="hljs-built_in">echo</span> net.ipv4.ip_forward=1&gt;&gt;/etc/sysctl.conf<br>sysctl -p<br></code></pre></td></tr></table></figure><h2 id="Verify-network-performance"><a href="#Verify-network-performance" class="headerlink" title="Verify network performance"></a>Verify network performance</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># server:</span><br><span class="hljs-comment"># -p specify server port</span><br>iperf3 -s -p 55201<br><br><span class="hljs-comment"># client </span><br><span class="hljs-comment"># --get-server-output [ get server result ]</span><br><span class="hljs-comment"># -R [ server TX, client Rx ]</span><br>iperf3 -c 111.1.1.1 -p 5201 --get-server-output<br><br></code></pre></td></tr></table></figure><h1 id="Other-command"><a href="#Other-command" class="headerlink" title="Other command"></a>Other command</h1><h2 id="SCP"><a href="#SCP" class="headerlink" title="SCP"></a>SCP</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># if you not need upload dir, delete &quot;-r&quot;</span><br><br>sshpass -p <span class="hljs-string">&#x27;bairiyishanjin&#x27;</span> scp -r /opt/smb/nextcloud root@10.10.10.249:/opt/sdb/nextcloud<br></code></pre></td></tr></table></figure><h2 id="SSH-certificate-login"><a href="#SSH-certificate-login" class="headerlink" title="SSH certificate login"></a>SSH certificate login</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@cloud ~]<span class="hljs-comment"># ssh-keygen -t rsa</span><br>Generating public/private rsa key pair.<br>Enter file <span class="hljs-keyword">in</span> <span class="hljs-built_in">which</span> to save the key (/root/.ssh/id_rsa):<br>Enter passphrase (empty <span class="hljs-keyword">for</span> no passphrase):<br>Enter same passphrase again:<br>Your identification has been saved <span class="hljs-keyword">in</span> /root/.ssh/id_rsa.<br>Your public key has been saved <span class="hljs-keyword">in</span> /root/.ssh/id_rsa.pub.<br>The key fingerprint is:<br>SHA256:c/iKwRcykSZoVhs4Bpt8qSsMXG61U/R4Pj87t2K1Vzk root@cloud.xiaoxqian.xyz<br>The key<span class="hljs-string">&#x27;s randomart image is:</span><br><span class="hljs-string">+---[RSA 2048]----+</span><br><span class="hljs-string">|.. .o  .         |</span><br><span class="hljs-string">|.o+o.o..o        |</span><br><span class="hljs-string">|oo+=o.+o o       |</span><br><span class="hljs-string">|.o= .oo.o.       |</span><br><span class="hljs-string">|.o o oo So.     .|</span><br><span class="hljs-string">|o o  ..o =o  . E.|</span><br><span class="hljs-string">|.o    o . .o. . o|</span><br><span class="hljs-string">|.      + . +oo . |</span><br><span class="hljs-string">|      . . ..+.o  |</span><br><span class="hljs-string">+----[SHA256]-----+</span><br><span class="hljs-string">[root@cloud ~]#</span><br><span class="hljs-string">[root@cloud ~]# ls ~/.ssh/</span><br><span class="hljs-string">id_rsa  id_rsa.pub  known_hosts</span><br><span class="hljs-string"></span><br><span class="hljs-string"># SCP copy pub to remote host, if not esxit dir need mkdir it.</span><br><span class="hljs-string">[root@cloud ~]# scp id_rsa.pub root@10.10.10.249:~/.ssh/authorized_keys</span><br></code></pre></td></tr></table></figure><h2 id="Rsync"><a href="#Rsync" class="headerlink" title="Rsync"></a>Rsync</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/dash</span><br><br>time1=$(<span class="hljs-built_in">date</span>)<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$time1</span> &quot;</span><br>bash nextcloud_occ<br><br>work_folder=/mnt/iSCSI/<br>local_folder=/mnt/sdb1/<br><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;----Start local folder start----&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;--------------------------------&quot;</span><br>rsync -av <span class="hljs-variable">$work_folder</span> <span class="hljs-variable">$local_folder</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;--------------------------------&quot;</span><br><span class="hljs-built_in">echo</span><br><span class="hljs-built_in">echo</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;----Start remote folder start----&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;--------------------------------&quot;</span><br>rsync --delete-before -arPv -e <span class="hljs-string">&#x27;sshpass -p s123ni!3123 ssh -p 40022&#x27;</span>  <span class="hljs-variable">$work_folder</span> root@10.0.0.1:/opt/sdb/_DataBackups/sync<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;--------------------------------&quot;</span><br><br><span class="hljs-comment"># setting auto running task for everyday.</span><br></code></pre></td></tr></table></figure><h2 id="Nextcloud"><a href="#Nextcloud" class="headerlink" title="Nextcloud"></a>Nextcloud</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo -u www-data php /var/www/html/nextcloud/occ files:scan --all<br><br><span class="hljs-comment"># fix db index</span><br>sudo -u www-data php /var/www/html/nextcloud/occ db:add-missing-indices<br><br><span class="hljs-comment"># Give directory operation permit</span><br><span class="hljs-built_in">chown</span> www-data:www-data /mnt/iSCSI/nextcloud24 -R<br></code></pre></td></tr></table></figure><h2 id="Extend-the-linux-root-directory-space"><a href="#Extend-the-linux-root-directory-space" class="headerlink" title="Extend the linux root directory space"></a>Extend the linux root directory space</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[root@localhost lib]<span class="hljs-comment"># fdisk -l</span><br>Disk /dev/sda: 32.2 GB, 32212254720 bytes, 62914560 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br>Disk label <span class="hljs-built_in">type</span>: dos<br>Disk identifier: 0x000a62d3<br><br>   Device Boot      Start         End      Blocks   Id  System<br>/dev/sda1   *        2048     2099199     1048576   83  Linux<br>/dev/sda2         2099200    62914559    30407680   8e  Linux LVM<br><br>Disk /dev/mapper/centos-root: 29.0 GB, 28982640640 bytes, 56606720 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br><br><br>Disk /dev/mapper/centos-swap: 2147 MB, 2147483648 bytes, 4194304 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br><br><br>Disk /dev/sdb: 322.1 GB, 322122547200 bytes, 629145600 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br><br>[root@localhost lib]<span class="hljs-comment">#</span><br>[root@localhost lib]<span class="hljs-comment">#</span><br>[root@localhost lib]<span class="hljs-comment"># fdisk -lh</span><br>Usage:<br> fdisk [options] &lt;disk&gt;    change partition table<br> fdisk [options] -l &lt;disk&gt; list partition table(s)<br> fdisk -s &lt;partition&gt;      give partition size(s) <span class="hljs-keyword">in</span> blocks<br><br>Options:<br> -b &lt;size&gt;             sector size (512, 1024, 2048 or 4096)<br> -c[=&lt;mode&gt;]           compatible mode: <span class="hljs-string">&#x27;dos&#x27;</span> or <span class="hljs-string">&#x27;nondos&#x27;</span> (default)<br> -h                    <span class="hljs-built_in">print</span> this <span class="hljs-built_in">help</span> text<br> -u[=&lt;unit&gt;]           display units: <span class="hljs-string">&#x27;cylinders&#x27;</span> or <span class="hljs-string">&#x27;sectors&#x27;</span> (default)<br> -v                    <span class="hljs-built_in">print</span> program version<br> -C &lt;number&gt;           specify the number of cylinders<br> -H &lt;number&gt;           specify the number of heads<br> -S &lt;number&gt;           specify the number of sectors per track<br><br>[root@localhost lib]<span class="hljs-comment"># fdisk -l</span><br><br>Disk /dev/sda: 32.2 GB, 32212254720 bytes, 62914560 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br>Disk label <span class="hljs-built_in">type</span>: dos<br>Disk identifier: 0x000a62d3<br><br>   Device Boot      Start         End      Blocks   Id  System<br>/dev/sda1   *        2048     2099199     1048576   83  Linux<br>/dev/sda2         2099200    62914559    30407680   8e  Linux LVM<br><br>Disk /dev/mapper/centos-root: 29.0 GB, 28982640640 bytes, 56606720 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br><br><br>Disk /dev/mapper/centos-swap: 2147 MB, 2147483648 bytes, 4194304 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br><br><br>Disk /dev/sdb: 322.1 GB, 322122547200 bytes, 629145600 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br><br>[root@localhost lib]<span class="hljs-comment"># lsblk</span><br>NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT<br>sda               8:0    0   30G  0 disk<br>├─sda1            8:1    0    1G  0 part /boot<br>└─sda2            8:2    0   29G  0 part<br>  ├─centos-root 253:0    0   27G  0 lvm  /<br>  └─centos-swap 253:1    0    2G  0 lvm  [SWAP]<br>sdb               8:16   0  300G  0 disk<br>sr0              11:0    1  4.5G  0 rom<br>[root@localhost lib]<span class="hljs-comment"># fdisk /dev/sda</span><br>Welcome to fdisk (util-linux 2.23.2).<br><br>Changes will remain <span class="hljs-keyword">in</span> memory only, until you decide to write them.<br>Be careful before using the write <span class="hljs-built_in">command</span>.<br><br><br>Command (m <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>): ^C<br>[root@localhost lib]<span class="hljs-comment"># df -h</span><br>Filesystem               Size  Used Avail Use% Mounted on<br>devtmpfs                 7.8G     0  7.8G   0% /dev<br>tmpfs                    7.8G     0  7.8G   0% /dev/shm<br>tmpfs                    7.8G   49M  7.8G   1% /run<br>tmpfs                    7.8G     0  7.8G   0% /sys/fs/cgroup<br>/dev/mapper/centos-root   27G   25G  2.7G  91% /<br>/dev/sda1               1014M  150M  865M  15% /boot<br>tmpfs                    1.6G     0  1.6G   0% /run/user/0<br>[root@localhost lib]<span class="hljs-comment"># df -Th</span><br>Filesystem              Type      Size  Used Avail Use% Mounted on<br>devtmpfs                devtmpfs  7.8G     0  7.8G   0% /dev<br>tmpfs                   tmpfs     7.8G     0  7.8G   0% /dev/shm<br>tmpfs                   tmpfs     7.8G   49M  7.8G   1% /run<br>tmpfs                   tmpfs     7.8G     0  7.8G   0% /sys/fs/cgroup<br>/dev/mapper/centos-root xfs        27G   25G  2.7G  91% /<br>/dev/sda1               xfs      1014M  150M  865M  15% /boot<br>tmpfs                   tmpfs     1.6G     0  1.6G   0% /run/user/0<br>[root@localhost lib]<span class="hljs-comment"># cd</span><br>[root@localhost ~]<span class="hljs-comment"># fdisk  /dev/sdb</span><br>Welcome to fdisk (util-linux 2.23.2).<br><br>Changes will remain <span class="hljs-keyword">in</span> memory only, until you decide to write them.<br>Be careful before using the write <span class="hljs-built_in">command</span>.<br><br>Device does not contain a recognized partition table<br>Building a new DOS disklabel with disk identifier 0x94b4b121.<br><br>Command (m <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>): n<br>Partition <span class="hljs-built_in">type</span>:<br>   p   primary (0 primary, 0 extended, 4 free)<br>   e   extended<br>Select (default p): p<br>Partition number (1-4, default 1): 1<br>First sector (2048-629145599, default 2048):<br>Using default value 2048<br>Last sector, +sectors or +size&#123;K,M,G&#125; (2048-629145599, default 629145599):<br>Using default value 629145599<br>Partition 1 of <span class="hljs-built_in">type</span> Linux and of size 300 GiB is <span class="hljs-built_in">set</span><br><br>Command (m <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>): t<br>Selected partition 1<br>Hex code (<span class="hljs-built_in">type</span> L to list all codes): 8e<br>Changed <span class="hljs-built_in">type</span> of partition <span class="hljs-string">&#x27;Linux&#x27;</span> to <span class="hljs-string">&#x27;Linux LVM&#x27;</span><br><br>Command (m <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>): w<br>The partition table has been altered!<br><br>Calling ioctl() to re-read partition table.<br>Syncing disks.<br>[root@localhost ~]<span class="hljs-comment"># fdisk</span><br>Usage:<br> fdisk [options] &lt;disk&gt;    change partition table<br> fdisk [options] -l &lt;disk&gt; list partition table(s)<br> fdisk -s &lt;partition&gt;      give partition size(s) <span class="hljs-keyword">in</span> blocks<br><br>Options:<br> -b &lt;size&gt;             sector size (512, 1024, 2048 or 4096)<br> -c[=&lt;mode&gt;]           compatible mode: <span class="hljs-string">&#x27;dos&#x27;</span> or <span class="hljs-string">&#x27;nondos&#x27;</span> (default)<br> -h                    <span class="hljs-built_in">print</span> this <span class="hljs-built_in">help</span> text<br> -u[=&lt;unit&gt;]           display units: <span class="hljs-string">&#x27;cylinders&#x27;</span> or <span class="hljs-string">&#x27;sectors&#x27;</span> (default)<br> -v                    <span class="hljs-built_in">print</span> program version<br> -C &lt;number&gt;           specify the number of cylinders<br> -H &lt;number&gt;           specify the number of heads<br> -S &lt;number&gt;           specify the number of sectors per track<br><br>[root@localhost ~]<span class="hljs-comment"># fdisk -l</span><br><br>Disk /dev/sda: 32.2 GB, 32212254720 bytes, 62914560 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br>Disk label <span class="hljs-built_in">type</span>: dos<br>Disk identifier: 0x000a62d3<br><br>   Device Boot      Start         End      Blocks   Id  System<br>/dev/sda1   *        2048     2099199     1048576   83  Linux<br>/dev/sda2         2099200    62914559    30407680   8e  Linux LVM<br><br>Disk /dev/mapper/centos-root: 29.0 GB, 28982640640 bytes, 56606720 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br><br><br>Disk /dev/mapper/centos-swap: 2147 MB, 2147483648 bytes, 4194304 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br><br><br>Disk /dev/sdb: 322.1 GB, 322122547200 bytes, 629145600 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br>Disk label <span class="hljs-built_in">type</span>: dos<br>Disk identifier: 0x94b4b121<br><br>   Device Boot      Start         End      Blocks   Id  System<br>/dev/sdb1            2048   629145599   314571776   8e  Linux LVM<br>[root@localhost ~]<span class="hljs-comment"># pvcreate /dev/sdb1</span><br>  Physical volume <span class="hljs-string">&quot;/dev/sdb1&quot;</span> successfully created.<br>[root@localhost ~]<span class="hljs-comment">#</span><br>[root@localhost ~]<span class="hljs-comment"># vgdisplay</span><br>  --- Volume group ---<br>  VG Name               centos<br>  System ID<br>  Format                lvm2<br>  Metadata Areas        1<br>  Metadata Sequence No  3<br>  VG Access             <span class="hljs-built_in">read</span>/write<br>  VG Status             resizable<br>  MAX LV                0<br>  Cur LV                2<br>  Open LV               2<br>  Max PV                0<br>  Cur PV                1<br>  Act PV                1<br>  VG Size               &lt;29.00 GiB<br>  PE Size               4.00 MiB<br>  Total PE              7423<br>  Alloc PE / Size       7422 / 28.99 GiB<br>  Free  PE / Size       1 / 4.00 MiB<br>  VG UUID               GE4Qgd-XFNY-2290-sEyV-h4pM-emMZ-D25EGb<br><br>[root@localhost ~]<span class="hljs-comment"># pvdisplay</span><br>  --- Physical volume ---<br>  PV Name               /dev/sda2<br>  VG Name               centos<br>  PV Size               &lt;29.00 GiB / not usable 3.00 MiB<br>  Allocatable           <span class="hljs-built_in">yes</span><br>  PE Size               4.00 MiB<br>  Total PE              7423<br>  Free PE               1<br>  Allocated PE          7422<br>  PV UUID               xzjcCG-ITBC-ZMPM-2bV3-7lVO-9TJs-wXyw3B<br><br>  <span class="hljs-string">&quot;/dev/sdb1&quot;</span> is a new physical volume of <span class="hljs-string">&quot;&lt;300.00 GiB&quot;</span><br>  --- NEW Physical volume ---<br>  PV Name               /dev/sdb1<br>  VG Name<br>  PV Size               &lt;300.00 GiB<br>  Allocatable           NO<br>  PE Size               0<br>  Total PE              0<br>  Free PE               0<br>  Allocated PE          0<br>  PV UUID               ZrGe0V-YnNa-XY99-cY0K-b5H9-8ToO-qTQVpK<br><br>[root@localhost ~]<span class="hljs-comment"># vgex</span><br>vgexport  vgextend<br>[root@localhost ~]<span class="hljs-comment"># vgextend centos /dev/sdb1</span><br>  Volume group <span class="hljs-string">&quot;centos&quot;</span> successfully extended<br>[root@localhost ~]<span class="hljs-comment">#</span><br>[root@localhost ~]<span class="hljs-comment"># vgdisplay</span><br>  --- Volume group ---<br>  VG Name               centos<br>  System ID<br>  Format                lvm2<br>  Metadata Areas        2<br>  Metadata Sequence No  4<br>  VG Access             <span class="hljs-built_in">read</span>/write<br>  VG Status             resizable<br>  MAX LV                0<br>  Cur LV                2<br>  Open LV               2<br>  Max PV                0<br>  Cur PV                2<br>  Act PV                2<br>  VG Size               328.99 GiB<br>  PE Size               4.00 MiB<br>  Total PE              84222<br>  Alloc PE / Size       7422 / 28.99 GiB<br>  Free  PE / Size       76800 / 300.00 GiB<br>  VG UUID               GE4Qgd-XFNY-2290-sEyV-h4pM-emMZ-D25EGb<br><br>[root@localhost ~]<span class="hljs-comment"># lvextend -l +100%free /dev/sd</span><br>/dev/sda2  /dev/sdb1<br>[root@localhost ~]<span class="hljs-comment"># df -Th</span><br>Filesystem              Type      Size  Used Avail Use% Mounted on<br>devtmpfs                devtmpfs  7.8G     0  7.8G   0% /dev<br>tmpfs                   tmpfs     7.8G     0  7.8G   0% /dev/shm<br>tmpfs                   tmpfs     7.8G   49M  7.8G   1% /run<br>tmpfs                   tmpfs     7.8G     0  7.8G   0% /sys/fs/cgroup<br>/dev/mapper/centos-root xfs        27G   25G  2.7G  91% /<br>/dev/sda1               xfs      1014M  150M  865M  15% /boot<br>tmpfs                   tmpfs     1.6G     0  1.6G   0% /run/user/0<br>[root@localhost ~]<span class="hljs-comment"># lvextend -l +100%FREE /dev/mapper/centos-root</span><br>  Size of logical volume centos/root changed from 26.99 GiB (6910 extents) to 326.99 GiB (83710 extents).<br>  Logical volume centos/root successfully resized.<br>[root@localhost ~]<span class="hljs-comment"># xfs_growfs /dev/mapper/centos-root</span><br>meta-data=/dev/mapper/centos-root isize=512    agcount=4, agsize=1768960 blks<br>         =                       sectsz=512   attr=2, projid32bit=1<br>         =                       crc=1        finobt=0 spinodes=0<br>data     =                       bsize=4096   blocks=7075840, imaxpct=25<br>         =                       sunit=0      swidth=0 blks<br>naming   =version 2              bsize=4096   ascii-ci=0 ftype=1<br><span class="hljs-built_in">log</span>      =internal               bsize=4096   blocks=3455, version=2<br>         =                       sectsz=512   sunit=0 blks, lazy-count=1<br>realtime =none                   extsz=4096   blocks=0, rtextents=0<br>data blocks changed from 7075840 to 85719040<br>[root@localhost ~]<span class="hljs-comment"># df -Th</span><br>Filesystem              Type      Size  Used Avail Use% Mounted on<br>devtmpfs                devtmpfs  7.8G     0  7.8G   0% /dev<br>tmpfs                   tmpfs     7.8G     0  7.8G   0% /dev/shm<br>tmpfs                   tmpfs     7.8G   49M  7.8G   1% /run<br>tmpfs                   tmpfs     7.8G     0  7.8G   0% /sys/fs/cgroup<br>/dev/mapper/centos-root xfs       327G   25G  303G   8% /<br>/dev/sda1               xfs      1014M  150M  865M  15% /boot<br>tmpfs                   tmpfs     1.6G     0  1.6G   0% /run/user/0<br></code></pre></td></tr></table></figure><h2 id="Extend-disk-space-non-root"><a href="#Extend-disk-space-non-root" class="headerlink" title="Extend disk space non-root"></a>Extend disk space non-root</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt install -y cloud-guest-utils<br>growpart /dev/sdf 1<br><br><span class="hljs-comment"># if disk spaces &gt; 1T needs convert GPT format</span><br>gdisk /dev/sdf<br>growpart /dev/sdf 1<br><br><span class="hljs-comment"># fix disk zfs4 </span><br>e2fsck /dev/sdf1<br>resize2fs /dev/sdf1<br><br><span class="hljs-comment"># mount</span><br>mount /dev/sdf1 /mnt/sdf1<br><br><span class="hljs-comment"># /ets/fstab</span><br>root@debian:~<span class="hljs-comment"># blkid /dev/sdf1</span><br>/dev/sdf1: UUID=<span class="hljs-string">&quot;74a5172d-03cb-405d-a4e5-1277cd285620&quot;</span> BLOCK_SIZE=<span class="hljs-string">&quot;4096&quot;</span> TYPE=<span class="hljs-string">&quot;ext4&quot;</span> PTTYPE=<span class="hljs-string">&quot;PMBR&quot;</span> PARTLABEL=<span class="hljs-string">&quot;Linux filesystem&quot;</span> PARTUUID=<span class="hljs-string">&quot;3e57d2bd-d46e-4bc7-8dea-f280e094d57a&quot;</span><br><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF&gt;&gt; /ets/fstab</span><br><span class="hljs-string">UUID=&quot;74a5172d-03cb-405d-a4e5-1277cd285620&quot; /mnt/sdf1 ext4 _netdev,rw 0 0</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># _netdev wait boot complate mount.</span><br><br></code></pre></td></tr></table></figure><h2 id="Route"><a href="#Route" class="headerlink" title="Route"></a>Route</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># show current route</span><br>ip route show|column -t<br><br><span class="hljs-comment"># add new route a same name with interface name</span><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF&gt;&gt; /etc/sysconfig/network-scripts/route-ens192</span><br><span class="hljs-string">10.0.0.0/8 via 172.16.54.254 dev ens192</span><br><span class="hljs-string">172.16.0.0/17 via 172.16.54.254 dev ens192</span><br><span class="hljs-string">EOF</span><br><br>systemctl restart network &amp;&amp; ip route show|column -t<br><br></code></pre></td></tr></table></figure><h2 id="Backup-system"><a href="#Backup-system" class="headerlink" title="Backup system"></a>Backup system</h2><p>Use tar backups all system</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> / &amp;&amp; tar cvpzf backup.tgz / --exclude=/proc --exclude=/lost+found --exclude=/backup.tgz --exclude=/mnt --exclude=/sys <br>--exclude=/root<br><span class="hljs-comment"># need system-root directory</span><br></code></pre></td></tr></table></figure><h1 id="Appreciation-of-beautiful-pictures"><a href="#Appreciation-of-beautiful-pictures" class="headerlink" title="Appreciation of beautiful pictures"></a>Appreciation of beautiful pictures</h1><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0014430aed53196adb8.webp" alt="000.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/08f826d0e0f2519c2.webp" alt="001.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0020979c565eb178285.webp" alt="0020979c565eb178285.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0032a0eff6375c27d8e.webp" alt="0032a0eff6375c27d8e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/004ef643018ab12bbb1.webp" alt="004ef643018ab12bbb1.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/00570799f28d3c4b3e6.webp" alt="00570799f28d3c4b3e6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0079bd6c85bceac70e0.webp" alt="0079bd6c85bceac70e0.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0086c9ed886fa7909e7.webp" alt="0086c9ed886fa7909e7.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/00693235451da508d52.webp" alt="00693235451da508d52.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/00934b85b247a05be4a.webp" alt="00934b85b247a05be4a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0108758f147f59164e7.webp" alt="0108758f147f59164e7.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/01198c056c103e6e6f9.webp" alt="01198c056c103e6e6f9.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/012191fd32fa59317f0.webp" alt="012191fd32fa59317f0.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0131602e28b387fa9ca.webp" alt="0131602e28b387fa9ca.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0144f8dee10a9016d10.webp" alt="0144f8dee10a9016d10.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/015df955d46d6cf899e.webp" alt="015df955d46d6cf899e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0162a14b8ebd822851f.webp" alt="0162a14b8ebd822851f.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/017525253fbc923465c.webp" alt="017525253fbc923465c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/01892716d44cb9206b2.webp" alt="01892716d44cb9206b2.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/019b3a1c8e09709f082.webp" alt="019b3a1c8e09709f082.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/020e01382a94c3708d6.webp" alt="020e01382a94c3708d6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/021ecddc2dc790f5f34.webp" alt="021ecddc2dc790f5f34.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0226c1bd04261f2e961.webp" alt="0226c1bd04261f2e961.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/023d2f9f9bcacc900bb.webp" alt="023d2f9f9bcacc900bb.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/024f3fc5cd842ecbae1.webp" alt="024f3fc5cd842ecbae1.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/025c8af61b8793d24f8.webp" alt="025c8af61b8793d24f8.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/026bb0e196246bb524e.webp" alt="026bb0e196246bb524e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/027a57b7716cb8e9d93.webp" alt="027a57b7716cb8e9d93.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/02887981fdbef180455.webp" alt="02887981fdbef180455.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/029512cd782b62303da.webp" alt="029512cd782b62303da.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0307f5084d3a0811efc.webp" alt="0307f5084d3a0811efc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/03182e212bb0f6045f3.webp" alt="03182e212bb0f6045f3.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/032f5dacab6f4e105ed.webp" alt="032f5dacab6f4e105ed.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/033bf1629150d7f49bc.webp" alt="033bf1629150d7f49bc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/03470ffdb87084e2661.webp" alt="03470ffdb87084e2661.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0350da7135f65654a94.webp" alt="0350da7135f65654a94.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0367f9a8c6dd4e86c62.webp" alt="0367f9a8c6dd4e86c62.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/037e1ce10f97d4f8b28.webp" alt="037e1ce10f97d4f8b28.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/038e2c23c632895400e.webp" alt="038e2c23c632895400e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/039f070671e58e8f38f.webp" alt="039f070671e58e8f38f.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0401144c10076e57d9c.webp" alt="0401144c10076e57d9c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/041447b2f989aa759b7.webp" alt="041447b2f989aa759b7.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/042234ed6fff1d9f7cf.webp" alt="042234ed6fff1d9f7cf.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/043146d5356a1796609.webp" alt="043146d5356a1796609.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/04422c1d59bc53b1ce4.webp" alt="04422c1d59bc53b1ce4.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0456819dcd6f26ed505.webp" alt="0456819dcd6f26ed505.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/04684c2a2ec5210b3c7.webp" alt="04684c2a2ec5210b3c7.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0472d13d558695b76ab.webp" alt="0472d13d558695b76ab.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/048f3e5549238305e92.webp" alt="048f3e5549238305e92.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/04923c57aaf27e6f224.webp" alt="04923c57aaf27e6f224.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/05067e2e71c1c90345e.webp" alt="05067e2e71c1c90345e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/0510b1cec59aec66fae.webp" alt="0510b1cec59aec66fae.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/052.webp" alt="052.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/053.webp" alt="053.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/054.webp" alt="054.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/055.webp" alt="055.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/056.webp" alt="056.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/057.webp" alt="057.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/058.webp" alt="058.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/059.webp" alt="059.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/060.webp" alt="060.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/061.webp" alt="061.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/062.webp" alt="062.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/063.webp" alt="063.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/064.webp" alt="064.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/07/065.webp" alt="065.webp"></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>commands</category>
      
      <category>basic</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>centos7</tag>
      
      <tag>commands</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Set up Prometheus and Grafana Monitoring</title>
    <link href="/2023/01/02/Set-up-Prometheus-and-Grafana-Monitoring/"/>
    <url>/2023/01/02/Set-up-Prometheus-and-Grafana-Monitoring/</url>
    
    <content type="html"><![CDATA[<p>Build IT monitoring system </p><span id="more"></span><h1 id="Prometheus-and-Grafana-docker-compose"><a href="#Prometheus-and-Grafana-docker-compose" class="headerlink" title="Prometheus and Grafana docker compose"></a>Prometheus and Grafana docker compose</h1><h2 id="Use-docker-build-prometheus-grafana"><a href="#Use-docker-build-prometheus-grafana" class="headerlink" title="Use docker build prometheus, grafana"></a>Use docker build prometheus, grafana</h2><h3 id="prometheus"><a href="#prometheus" class="headerlink" title="prometheus"></a>prometheus</h3><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs docker">version: <span class="hljs-string">&quot;3&quot;</span><br><br>services:<br>  prometheus:<br>    restart: always<br>    image: prom/prometheus<br>    container_name: prometheus<br>    ports:<br>      - <span class="hljs-string">&quot;9090:9090&quot;</span><br><br>    volumes:<br>      - /&#123;your_pwd&#125;/prometheus.yml:/etc/prometheus/prometheus.yml<br>    environment:<br>      - TZ=<span class="hljs-string">&#x27;Asia/Shanghai&#x27;</span><br><br>    deploy:<br>      resources:<br>         limits:<br>            cpus: <span class="hljs-string">&#x27;1.00&#x27;</span><br>            memory: <span class="hljs-number">800</span>M<br>         reservations:<br>            memory: <span class="hljs-number">200</span>M<br><br></code></pre></td></tr></table></figure><h3 id="grafana"><a href="#grafana" class="headerlink" title="grafana"></a>grafana</h3><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs docker">version: <span class="hljs-string">&quot;3&quot;</span><br><br>services:<br>  grafana:<br>    restart: always<br>    image: grafana/grafana<br>    container_name: grafana<br>    ports:<br>      - <span class="hljs-string">&quot;3000:3000&quot;</span><br>    environment:<br>      - TZ=<span class="hljs-string">&#x27;Asia/Shanghai&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="blackbox-exporter"><a href="#blackbox-exporter" class="headerlink" title="blackbox_exporter"></a>blackbox_exporter</h3><p>if you not use blackbox monitor, so you not install it.</p><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs docker">version: <span class="hljs-string">&quot;3&quot;</span><br><br>services:<br>  blackbox_exporter:<br>    image: prom/blackbox-exporter<br>    container_name: blackbox_exporter<br>    ports:<br>      - <span class="hljs-string">&quot;9115:9115&quot;</span><br>    volumes:<br>      - /&#123;pwd&#125;:/config<br><br>    environment:<br>      - TZ=<span class="hljs-string">&#x27;Asia/Shanghai&#x27;</span><br>    command: <span class="hljs-string">&quot;--config.file=/config/blackbox.yaml&quot;</span><br><br></code></pre></td></tr></table></figure><h1 id="Prometheus-config-yml-file"><a href="#Prometheus-config-yml-file" class="headerlink" title="Prometheus config yml file"></a>Prometheus config yml file</h1><h2 id="prometheus-yml"><a href="#prometheus-yml" class="headerlink" title="prometheus.yml"></a>prometheus.yml</h2><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs docker"><span class="hljs-comment"># my global config</span><br>global:<br>  scrape_interval: <span class="hljs-number">15</span>s<br>  evaluation_interval: <span class="hljs-number">15</span>s<br><br><span class="hljs-comment"># Alertmanager configuration</span><br>alerting:<br>  alertmanagers:<br>    - static_configs:<br>        - targets:<br>          <span class="hljs-comment"># - alertmanager:9093</span><br><br>rule_files:<br>scrape_configs:<br>  - job_name: <span class="hljs-string">&quot;local internal host&quot;</span><br>    scrape_interval: <span class="hljs-number">5</span>s<br>    static_configs:<br>      - targets: [<span class="hljs-string">&quot;10.0.0.1:9100&quot;</span>]<br>      - targets: [<span class="hljs-string">&quot;10.0.0.2:9100&quot;</span>]<br>      - targets: [<span class="hljs-string">&quot;10.0.0.3:9100&quot;</span>]<br>      - targets: [<span class="hljs-string">&quot;10.0.0.4:9100&quot;</span>]<br><br><br><span class="hljs-comment"># if not use blockbox you can shkip</span><br><br>  - job_name: <span class="hljs-string">&#x27;blackbox_url&#x27;</span><br>    metrics_path: /probe        <span class="hljs-comment"># Probe is the path</span><br>    params:<br>      module: [http_2xx]  <span class="hljs-comment"># Look for a HTTP 200 response.</span><br>    static_configs:<br>      - targets:<br>        - http://www.baidu.com    <span class="hljs-comment"># Target to probe with http.</span><br>        - https://www.baidu.com   <span class="hljs-comment"># Target to probe with https.</span><br>        - https://taobao.com<br>    relabel_configs:<br>      - source_labels: [__address__]<br>        target_label: __param_target<br>      - source_labels: [__param_target]<br>        target_label: instance<br>      - target_label: __address__<br>        replacement: <span class="hljs-number">10.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">9115</span>  <span class="hljs-comment"># The blackbox exporter&#x27;s real hostname:port.</span><br><br>  - job_name: <span class="hljs-string">&#x27;ping_status&#x27;</span><br>    metrics_path: /probe<br>    params:<br>      module: [icmp]<br>    static_configs:<br>      - targets:<br>        - <span class="hljs-number">1.1</span>.<span class="hljs-number">1.1</span><br>        - <span class="hljs-number">59.174</span>.<span class="hljs-number">244.1</span><br>        - <span class="hljs-number">114.114</span>.<span class="hljs-number">114.114</span><br><br>        labels:<br>          instance: <span class="hljs-string">&#x27;ping_status&#x27;</span><br>          group: <span class="hljs-string">&#x27;icmp&#x27;</span><br>    relabel_configs:<br>      - source_labels: [__address__]<br>        target_label: __param_target<br>      - source_labels: [__param_target]<br>        target_label: ip<br>      - target_label: __address__<br>        replacement: <span class="hljs-number">10.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">9115</span><br><br></code></pre></td></tr></table></figure><h2 id="blackbox-yaml"><a href="#blackbox-yaml" class="headerlink" title="blackbox.yaml"></a>blackbox.yaml</h2><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs docker">modules:<br><br>  http_2xx:<br>    prober: http<br>    http:<br>      method: GET<br>      preferred_ip_protocol: ip4<br>      ip_protocol_fallback: false<br><br>  http_post_2xx:<br>    prober: http<br>    http:<br>      method: POST<br>  tcp_connect:<br>    prober: tcp<br>  pop3s_banner:<br>    prober: tcp<br>    tcp:<br>      query_response:<br>      - expect: <span class="hljs-string">&quot;^+OK&quot;</span><br>      tls: true<br>      tls_config:<br>        insecure_skip_verify: false<br>  grpc:<br>    prober: grpc<br>    grpc:<br>      tls: true<br>      preferred_ip_protocol: <span class="hljs-string">&quot;ip4&quot;</span><br>  grpc_plain:<br>    prober: grpc<br>    grpc:<br>      tls: false<br>      service: <span class="hljs-string">&quot;service1&quot;</span><br>  ssh_banner:<br>    prober: tcp<br>    tcp:<br>      query_response:<br>      - expect: <span class="hljs-string">&quot;^SSH-2.0-&quot;</span><br>      - send: <span class="hljs-string">&quot;SSH-2.0-blackbox-ssh-check&quot;</span><br>  irc_banner:<br>    prober: tcp<br>    tcp:<br>      query_response:<br>      - send: <span class="hljs-string">&quot;NICK prober&quot;</span><br>      - send: <span class="hljs-string">&quot;USER prober prober prober :prober&quot;</span><br>      - expect: <span class="hljs-string">&quot;PING :([^ ]+)&quot;</span><br>        send: <span class="hljs-string">&quot;PONG $&#123;1&#125;&quot;</span><br>      - expect: <span class="hljs-string">&quot;^:[^ ]+ 001&quot;</span><br>  icmp:<br>    prober: icmp<br>  icmp_ttl5:<br>    prober: icmp<br>    timeout: <span class="hljs-number">5</span>s<br>    icmp:<br>      ttl: <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h1 id="node-exporter"><a href="#node-exporter" class="headerlink" title="node_exporter"></a>node_exporter</h1><p>install the needs monitor host</p><h2 id="install-scripts-needs-can-connetion-github"><a href="#install-scripts-needs-can-connetion-github" class="headerlink" title="install scripts, needs can connetion github."></a>install scripts, needs can connetion github.</h2><p>For Example , Centos7</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p /opt/node_exporter<br><span class="hljs-built_in">cd</span> /opt/node_exporter<br>curl -LO https://github.com/prometheus/node_exporter/releases/download/v1.4.0/node_exporter-1.4.0.linux-amd64.tar.gz<br>tar -zxvf node_exporter-1.4.0.linux-amd64.tar.gz -C /opt/node_exporter<br><span class="hljs-built_in">mv</span> node_exporter*/node_exporter .<br><br><br><br><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF&gt; /usr/lib/systemd/system/node_exporter.service</span><br><span class="hljs-string">[unit]</span><br><span class="hljs-string">Description=The node_exporter Server</span><br><span class="hljs-string">Wants=network-online.target</span><br><span class="hljs-string">After=network.target</span><br><span class="hljs-string"></span><br><span class="hljs-string">[Service]</span><br><span class="hljs-string">ExecStart=/opt/node_exporter/node_exporter</span><br><span class="hljs-string">Restart=on-failure</span><br><span class="hljs-string">RestartSec=5s</span><br><span class="hljs-string">SyslogIdentifier=node_exporter</span><br><span class="hljs-string"></span><br><span class="hljs-string">[Install]</span><br><span class="hljs-string">WantedBy=multi-user.target</span><br><span class="hljs-string">EOF</span><br><br>systemctl daemon-reload &amp;&amp; systemctl start node_exporter &amp;&amp; systemctl status node_exporter &amp;&amp; systemctl <span class="hljs-built_in">enable</span> node_exporter<br><br><br>netstat -anop|grep node_exporter<br>firewall-cmd --zone=public --add-port=9100/tcp --permanent<br>firewall-cmd --reload<br></code></pre></td></tr></table></figure><h1 id="Verify-prometheus"><a href="#Verify-prometheus" class="headerlink" title="Verify prometheus"></a>Verify prometheus</h1><p>Login <a href="http://you_ip:9090/targets?search=">http://you_ip:9090/targets?search=</a><br>if the status is all UP that is OK.</p><h1 id="Verify-grafana"><a href="#Verify-grafana" class="headerlink" title="Verify grafana"></a>Verify grafana</h1><p>Login <a href="http://you_ip:3000/">http://you_ip:3000</a> is grafana</p><h2 id="add-data-sources"><a href="#add-data-sources" class="headerlink" title="add data sources"></a>add data sources</h2><p>Configuration &#x3D;&gt; Data sources &#x3D;&gt; add Prometheus &#x3D;&gt; URL  &#x3D;&gt; Save</p><h2 id="Dashboards"><a href="#Dashboards" class="headerlink" title="Dashboards"></a>Dashboards</h2><p>Dashboards &#x3D;&gt; New &#x3D;&gt; import &#x3D;&gt; import id &#x3D;&gt; Load</p><h2 id="Dashboards-id-for-prometheus"><a href="#Dashboards-id-for-prometheus" class="headerlink" title="Dashboards id for prometheus"></a>Dashboards id for prometheus</h2><h3 id="linux-detail-dashboards"><a href="#linux-detail-dashboards" class="headerlink" title="linux detail dashboards"></a>linux detail dashboards</h3><p><img src="https://grafana.com/api/dashboards/12633/images/8556/image" alt="12633"></p><h3 id="Linux-Stats-with-Node-Exporter"><a href="#Linux-Stats-with-Node-Exporter" class="headerlink" title="Linux Stats with Node Exporter"></a>Linux Stats with Node Exporter</h3><p><img src="https://grafana.com/api/dashboards/14731/images/10763/image" alt="14731"></p><h1 id="Appreciation-of-beautiful-pictures"><a href="#Appreciation-of-beautiful-pictures" class="headerlink" title="Appreciation of beautiful pictures"></a>Appreciation of beautiful pictures</h1><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/001.webp" alt="001.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/003.webp" alt="003.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/004.webp" alt="004.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/005.webp" alt="005.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/006.webp" alt="006.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/007.webp" alt="007.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/008.webp" alt="008.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/009.webp" alt="009.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/010.webp" alt="010.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/011.webp" alt="011.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/012.webp" alt="012.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/013.webp" alt="013.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/014.webp" alt="014.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/015.webp" alt="015.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/016.webp" alt="016.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/017.webp" alt="017.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/018.webp" alt="018.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/019.webp" alt="019.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/020.webp" alt="020.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/021.webp" alt="021.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/022.webp" alt="022.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/023.webp" alt="023.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/024.webp" alt="024.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/025.webp" alt="025.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/026.webp" alt="026.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/027.webp" alt="027.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/028.webp" alt="028.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/029.webp" alt="029.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/030.webp" alt="030.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/031.webp" alt="031.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/032.webp" alt="032.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/033.webp" alt="033.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/034.webp" alt="034.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/035.webp" alt="035.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/036.webp" alt="036.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/037.webp" alt="037.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/038.webp" alt="038.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/039.webp" alt="039.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/040.webp" alt="040.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/041.webp" alt="041.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/042.webp" alt="042.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/043.webp" alt="043.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/044.webp" alt="044.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/045.webp" alt="045.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/046.webp" alt="046.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/047.webp" alt="047.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/048.webp" alt="048.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/049.webp" alt="049.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/050.webp" alt="050.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/051.webp" alt="051.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/052.webp" alt="052.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/053.webp" alt="053.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/054.webp" alt="054.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/055.webp" alt="055.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/056.webp" alt="056.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/057.webp" alt="057.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/058.webp" alt="058.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/064.webp" alt="064.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/066.webp" alt="066.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/067.webp" alt="067.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/071.webp" alt="071.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/072.webp" alt="072.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/073.webp" alt="073.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/078.webp" alt="078.webp"></p>]]></content>
    
    
    <categories>
      
      <category>Monitoring</category>
      
      <category>Prometheus</category>
      
      <category>Grafana</category>
      
    </categories>
    
    
    <tags>
      
      <tag>monitoring</tag>
      
      <tag>prometheus</tag>
      
      <tag>grafana</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Juniper QFX Series Single port multi-business</title>
    <link href="/2022/12/31/Juniper-QFX-Series-Single-port-multi-business/"/>
    <url>/2022/12/31/Juniper-QFX-Series-Single-port-multi-business/</url>
    
    <content type="html"><![CDATA[<p>QFX serise single port mulit-server</p><span id="more"></span><h1 id="The-qfx-series-has-certain-changes-compared-with-the-ex-series-port-multi-service"><a href="#The-qfx-series-has-certain-changes-compared-with-the-ex-series-port-multi-service" class="headerlink" title="The qfx series has certain changes compared with the ex series port multi-service"></a>The qfx series has certain changes compared with the ex series port multi-service</h1><p>Our new backbone use Juniper QFX5120 for Build 100G network.<br>The main business is the wireless network built by the L3 solution and the large layer-2 IPoE network based on QinQ.<br>In some places where fiber link resources are not available, a single port needs to carry multiple services.</p><h2 id="QFX-configure-for-multi-business"><a href="#QFX-configure-for-multi-business" class="headerlink" title="QFX configure for multi-business"></a>QFX configure for multi-business</h2><p>FOR EXAMPLE:<br>The service port is xe-0&#x2F;0&#x2F;39, uplink port is ae48.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">set</span> interfaces xe-0/0/39 description library<br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 flexible-vlan-tagging<br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 encapsulation extended-vlan-bridge<br><br><span class="hljs-comment"># QinQ </span><br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 unit 1001 description library-IPoE<br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 unit 1001 vlan-id-list 1001-1050<br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 unit 1001 input-vlan-map push<br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 unit 1001 output-vlan-map pop<br><br><span class="hljs-comment"># L3</span><br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 unit 2001 description library-L3<br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 unit 2001 vlan-id 2001<br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 unit 2001 input-vlan-map swap<br><span class="hljs-built_in">set</span> interfaces xe-0/0/39 unit 2001 output-vlan-map swap<br><br><span class="hljs-built_in">set</span> vlans library-L3 interface ae52.2001<br><span class="hljs-built_in">set</span> vlans library-L3 interface xe-0/0/39.2001<br><br><span class="hljs-comment"># use self-port the end vlan tag for l3</span><br><span class="hljs-built_in">set</span> interfaces ae52 unit 2001 description library-L3<br><span class="hljs-built_in">set</span> interfaces ae52 unit 2001 vlan-id 2001<br><span class="hljs-built_in">set</span> interfaces ae53 unit 2001 description library-L3<br><span class="hljs-built_in">set</span> interfaces ae53 unit 2001 vlan-id 2001<br><span class="hljs-built_in">set</span> interfaces ae53 unit 2001 family inet address 172.16.0.1/30<br><br><span class="hljs-comment"># OSPF ues single NSSA Area</span><br><span class="hljs-built_in">set</span> protocols ospf area 172.16.0.0 nssa no-summaries<br><span class="hljs-built_in">set</span> protocols ospf area 172.16.0.0 nssa default-lsa default-metric 10<br><span class="hljs-built_in">set</span> protocols ospf area 172.16.0.0 interface ae53.2001<br><br><span class="hljs-comment"># Configure the QinQ outer label and the corresponding vlan-id</span><br><span class="hljs-built_in">set</span> vlans QinQ1001_library interface xe-0/0/39.1001<br><span class="hljs-built_in">set</span> vlans QinQ1001_library interface ae48.1001<br><span class="hljs-built_in">set</span> interfaces ae48 unit 1001 vlan-id 1001<br></code></pre></td></tr></table></figure><h2 id="Python-automtic-generate"><a href="#Python-automtic-generate" class="headerlink" title="Python automtic generate"></a>Python automtic generate</h2><p>Our Backbone edge device single port both QinQ and L3 OSPF.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_5120_48Y</span>(<span class="hljs-params"><span class="hljs-built_in">list</span></span>):<br><br>    _build_name, _L3_int, _ospf_area, _inet, _QinQ_int, _QinQ_vid, _campus  = <span class="hljs-built_in">list</span>[<span class="hljs-number">0</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">1</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">2</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">3</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">4</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">5</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">6</span>]<br><br>    result = <span class="hljs-string">f&#x27;&#x27;&#x27;</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> description <span class="hljs-subst">&#123;_build_name&#125;</span></span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> flexible-vlan-tagging</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> encapsulation extended-vlan-bridge</span><br><span class="hljs-string"></span><br><span class="hljs-string"># QinQ </span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> description <span class="hljs-subst">&#123;_build_name&#125;</span>-IPoE</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> vlan-id-list 1001-1050</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> input-vlan-map push</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> output-vlan-map pop</span><br><span class="hljs-string"></span><br><span class="hljs-string"># L3</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> description <span class="hljs-subst">&#123;_build_name&#125;</span>-L3</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> vlan-id <span class="hljs-subst">&#123;_QinQ_int&#125;</span></span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> input-vlan-map swap</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> output-vlan-map swap</span><br><span class="hljs-string"></span><br><span class="hljs-string">set vlans <span class="hljs-subst">&#123;_build_name&#125;</span>-L3 interface ae52.<span class="hljs-subst">&#123;_QinQ_int&#125;</span></span><br><span class="hljs-string">set vlans <span class="hljs-subst">&#123;_build_name&#125;</span>-L3 interface <span class="hljs-subst">&#123;_L3_int&#125;</span>.<span class="hljs-subst">&#123;_QinQ_int&#125;</span></span><br><span class="hljs-string"></span><br><span class="hljs-string"># use self-port the end vlan tag for l3</span><br><span class="hljs-string">set interfaces ae52 unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> description <span class="hljs-subst">&#123;_build_name&#125;</span>-L3</span><br><span class="hljs-string">set interfaces ae52 unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> vlan-id <span class="hljs-subst">&#123;_QinQ_int&#125;</span></span><br><span class="hljs-string">set interfaces ae53 unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> description <span class="hljs-subst">&#123;_build_name&#125;</span>-L3</span><br><span class="hljs-string">set interfaces ae53 unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> vlan-id <span class="hljs-subst">&#123;_QinQ_int&#125;</span></span><br><span class="hljs-string">set interfaces ae53 unit <span class="hljs-subst">&#123;_QinQ_int&#125;</span> family inet address <span class="hljs-subst">&#123;_inet&#125;</span></span><br><span class="hljs-string"></span><br><span class="hljs-string"># OSPF ues single NSSA Area</span><br><span class="hljs-string">set protocols ospf area <span class="hljs-subst">&#123;_ospf_area&#125;</span> nssa no-summaries</span><br><span class="hljs-string">set protocols ospf area <span class="hljs-subst">&#123;_ospf_area&#125;</span> nssa default-lsa default-metric 10</span><br><span class="hljs-string">set protocols ospf area <span class="hljs-subst">&#123;_ospf_area&#125;</span> interface ae53.<span class="hljs-subst">&#123;_QinQ_int&#125;</span></span><br><span class="hljs-string"></span><br><span class="hljs-string"># Configure the QinQ outer label and the corresponding vlan-id</span><br><span class="hljs-string">set vlans QinQ<span class="hljs-subst">&#123;_QinQ_vid&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span> interface <span class="hljs-subst">&#123;_L3_int&#125;</span>.<span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set vlans QinQ<span class="hljs-subst">&#123;_QinQ_vid&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span> interface ae48.<span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set interfaces ae48 unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> vlan-id <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string"></span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br><br><br>    <span class="hljs-keyword">return</span> result<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_5120_32C</span>(<span class="hljs-params"><span class="hljs-built_in">list</span></span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    32C as vlan trunk will QinQ Label transit to BRAS</span><br><span class="hljs-string">    ae0 -ae4 JH, NH, XY, DY, YQ</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-comment"># get campus</span><br>    _build_name, _L3_int, _ospf_area, _inet, _QinQ_int, _QinQ_vid, _campus  = <span class="hljs-built_in">list</span>[<span class="hljs-number">0</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">1</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">2</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">3</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">4</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">5</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">6</span>]<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;&#x27;</span>) == <span class="hljs-built_in">str</span>(_QinQ_int):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span>   <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;JH&#x27;</span>) <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(_campus):<br>            Campus = <span class="hljs-string">&#x27;ae0&#x27;</span><br><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;NH&#x27;</span>) <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(_campus):<br>            Campus = <span class="hljs-string">&#x27;ae1&#x27;</span><br><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;XY&#x27;</span>) <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(_campus):<br>            Campus = <span class="hljs-string">&#x27;ae2&#x27;</span><br><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;DY&#x27;</span>) <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(_campus):<br>            Campus = <span class="hljs-string">&#x27;ae3&#x27;</span><br><br>        <span class="hljs-keyword">else</span> :<br>            Campus = <span class="hljs-string">&#x27;ae4&#x27;</span><br><br>        <span class="hljs-comment"># ae21 ae22 to BRAS Port.</span><br><br>        result = <span class="hljs-string">f&#x27;&#x27;&#x27;# <span class="hljs-subst">&#123;_campus&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span></span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;Campus&#125;</span> unit 0 family ethernet-switching vlan members <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set interfaces ae21 unit 0 family ethernet-switching vlan members <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set interfaces ae22 unit 0 family ethernet-switching vlan members <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set vlans QinQ_<span class="hljs-subst">&#123;_campus&#125;</span>_<span class="hljs-subst">&#123;_QinQ_vid&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span> vlan-id <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">        &#x27;&#x27;&#x27;</span><br>        <span class="hljs-keyword">return</span> result<br><br><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br><br>    <span class="hljs-comment"># _build_name, _L3_int, _ospf_area, _inet, _QinQ_int, _QinQ_vid, _campus = list</span><br><br>    <span class="hljs-built_in">list</span> = [<br>        (<span class="hljs-string">&#x27;Hospital&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/0&#x27;</span>, <span class="hljs-string">&#x27;172.18.8.0&#x27;</span>,  <span class="hljs-string">&#x27;172.18.8.1/30&#x27;</span>, <span class="hljs-string">&#x27;2400&#x27;</span>, <span class="hljs-string">&#x27;1400&#x27;</span>,<span class="hljs-string">&#x27;DY&#x27;</span>),<br>        (<span class="hljs-string">&#x27;School&#x27;</span>,   <span class="hljs-string">&#x27;xe-0/0/1&#x27;</span>, <span class="hljs-string">&#x27;172.18.8.4&#x27;</span>,  <span class="hljs-string">&#x27;172.18.8.2/30&#x27;</span>, <span class="hljs-string">&#x27;2401&#x27;</span>, <span class="hljs-string">&#x27;1401&#x27;</span>,<span class="hljs-string">&#x27;DY&#x27;</span>),<br>    ]<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>+<span class="hljs-string">&#x27;QFX5120-48Y&#x27;</span>+<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>.copy():<br>        <span class="hljs-built_in">print</span>(_5120_48Y(i))<br><br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>+<span class="hljs-string">&#x27;QFX5120-32C&#x27;</span>+<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>.copy():<br>        <span class="hljs-built_in">print</span>(_5120_32C(i))<br><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br></code></pre></td></tr></table></figure><h1 id="Appreciation-of-beautiful-pictures"><a href="#Appreciation-of-beautiful-pictures" class="headerlink" title="Appreciation of beautiful pictures"></a>Appreciation of beautiful pictures</h1><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/001a46012e4387cd030.webp" alt="001a46012e4387cd030.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0c9fe1ee0be2c9e46.webp" alt="0c9fe1ee0be2c9e46.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/002661d304cb12bd9eb.webp" alt="002661d304cb12bd9eb.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/003488ecb9ae46f9e51.webp" alt="003488ecb9ae46f9e51.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0044fc427e7a232351e.webp" alt="0044fc427e7a232351e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0050f28d10850e41c8c.webp" alt="0050f28d10850e41c8c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/00645635207d5511b21.webp" alt="00645635207d5511b21.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/007209b7d52fad87d1d.webp" alt="007209b7d52fad87d1d.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0081ef62ea110e4d72e.webp" alt="0081ef62ea110e4d72e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/009b710d498fbd8bed9.webp" alt="009b710d498fbd8bed9.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/01046e555a8a57ec638.webp" alt="01046e555a8a57ec638.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/01100b1d47455aef5b1.webp" alt="01100b1d47455aef5b1.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/012ecd7eac817b10319.webp" alt="012ecd7eac817b10319.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0139630bd591ebcdcdc.webp" alt="0139630bd591ebcdcdc.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/014bde0769a9aa44ce8.webp" alt="014bde0769a9aa44ce8.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0150ed51da067f033e2.webp" alt="0150ed51da067f033e2.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/016c6f768a83da4fdfe.webp" alt="016c6f768a83da4fdfe.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/017b977dee24facefb8.webp" alt="017b977dee24facefb8.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/018ef347f3547b0dd9c.webp" alt="018ef347f3547b0dd9c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0193091bf9fb0680af6.webp" alt="0193091bf9fb0680af6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/02022b9da6a2bca30b4.webp" alt="02022b9da6a2bca30b4.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/021a28c108a0cdbc4eb.webp" alt="021a28c108a0cdbc4eb.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/022710a98ee36d6b1a8.webp" alt="022710a98ee36d6b1a8.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/02355681dbef634937e.webp" alt="02355681dbef634937e.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/024dc08011e4a8ddadd.webp" alt="024dc08011e4a8ddadd.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/025ff428a42b23f4c17.webp" alt="025ff428a42b23f4c17.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/026b2d93e3493c9b564.webp" alt="026b2d93e3493c9b564.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/027eba81b9114b69a8f.webp" alt="027eba81b9114b69a8f.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/028e52bde9ada7c9cd9.webp" alt="028e52bde9ada7c9cd9.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/02990590c2b2417684b.webp" alt="02990590c2b2417684b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0303578273aaee259a6.webp" alt="0303578273aaee259a6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/031e4318ecb49776fc6.webp" alt="031e4318ecb49776fc6.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/03215574ba6b4b30c54.webp" alt="03215574ba6b4b30c54.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/033fb260b9f57bab8a2.webp" alt="033fb260b9f57bab8a2.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/034203d32285fd2f38b.webp" alt="034203d32285fd2f38b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/035fdf6df4e6d7de54a.webp" alt="035fdf6df4e6d7de54a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0366ff10ca3ff3c78da.webp" alt="0366ff10ca3ff3c78da.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0373899fa2cb00afd90.webp" alt="0373899fa2cb00afd90.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/038dd46f681a9401dc2.webp" alt="038dd46f681a9401dc2.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/039e2ae44a788b2c356.webp" alt="039e2ae44a788b2c356.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/040287500f005732cbd.webp" alt="040287500f005732cbd.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/041b99d928b6ab3319b.webp" alt="041b99d928b6ab3319b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0426ba88675ba36af3c.webp" alt="0426ba88675ba36af3c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/04348d4c7bf7126d762.webp" alt="04348d4c7bf7126d762.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0441df5110f47d3f4eb.webp" alt="0441df5110f47d3f4eb.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/045a0f40689828f27a9.webp" alt="045a0f40689828f27a9.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/046909241dd554884d0.webp" alt="046909241dd554884d0.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/047faa95d2c210b455b.webp" alt="047faa95d2c210b455b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/048046794ce6cc6ef20.webp" alt="048046794ce6cc6ef20.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0492ba789adc45ed009.webp" alt="0492ba789adc45ed009.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/05054c7df0958915ad8.webp" alt="05054c7df0958915ad8.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0511dc283a48df8bbf8.webp" alt="0511dc283a48df8bbf8.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0528c035aa9fc54e0b5.webp" alt="0528c035aa9fc54e0b5.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/053abc1a3821ec874e5.webp" alt="053abc1a3821ec874e5.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/054005ab1e395b4621c.webp" alt="054005ab1e395b4621c.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0552498390c31fc772a.webp" alt="0552498390c31fc772a.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/05682df4264ad02529b.webp" alt="05682df4264ad02529b.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0570a82bdcd3a3e2ae9.webp" alt="0570a82bdcd3a3e2ae9.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/0584a40aadadcba5227.webp" alt="0584a40aadadcba5227.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/059beea49be556e8c21.webp" alt="059beea49be556e8c21.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/31/063.webp" alt="063.webp"></p>]]></content>
    
    
    <categories>
      
      <category>Juniper</category>
      
      <category>multi-business</category>
      
      <category>QinQ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Juniper</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Wiresless Troubleshooting</title>
    <link href="/2022/12/29/Wiresless-Troubleshooting/"/>
    <url>/2022/12/29/Wiresless-Troubleshooting/</url>
    
    <content type="html"><![CDATA[<p>Wireless AP unable to go online</p><span id="more"></span><h1 id="Tag-amp-categories"><a href="#Tag-amp-categories" class="headerlink" title="Tag &amp; categories"></a>Tag &amp; categories</h1><h3 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">tags:<br>  - 123<br>  - 456<br>tags: [123, 456]<br><br></code></pre></td></tr></table></figure><h3 id="categories"><a href="#categories" class="headerlink" title="categories"></a>categories</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 这是默认的写法，给文章添加一个分类。</span><br>categories: 123<br><span class="hljs-comment"># 这会将文章分类123/456子分类目录下。</span><br>categories: [123, 456]<br>这会将文章分类到123/456子分类目录下。<br>categories:<br>   - 123<br>   - 456<br>多标签写法，文章被分类到123、456以及123的自分类789这3个分类下面，官方指定写法。<br>categories:<br>   - [123]<br>   - [456]<br>   - [123, 789]<br></code></pre></td></tr></table></figure><h1 id="Wireless-AP-unable-to-go-online"><a href="#Wireless-AP-unable-to-go-online" class="headerlink" title="Wireless AP unable to go online"></a>Wireless AP unable to go online</h1><p>The corresponding IP address is not obtained.</p><blockquote><p>Our built new backbone network, needs will old network move it.</p></blockquote><p>Our wireless APs are deployed using the L3 solution and need to obtain addresses through DHCP-Relay. During the relocation process, it was found that some APs could not obtain addresses and go online.</p><p>After several packet captures and tests, it was found that the DHCP-Relay source address was not configured, which mainly involved Juniper and H3C equipment. The Ruijie test was normal and no additional configuration was required.</p><h3 id="Juniper"><a href="#Juniper" class="headerlink" title="Juniper"></a>Juniper</h3><p>add dhcp-relay source</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">set</span> forwarding-options helpers bootp source-address-giaddr<br></code></pre></td></tr></table></figure><p>for example<br>172.30.0.1 is Our DHCP Server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">set</span> forwarding-options helpers bootp server 172.30.0.1<br><span class="hljs-built_in">set</span> forwarding-options helpers bootp source-address-giaddr<br><span class="hljs-built_in">set</span> forwarding-options helpers bootp interface vlan.2<br></code></pre></td></tr></table></figure><h3 id="H3C"><a href="#H3C" class="headerlink" title="H3C"></a>H3C</h3><p>add dhcp relay source-address</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">dhcp relay source-address 172.25.12.254<br></code></pre></td></tr></table></figure><p>example</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"> dhcp <span class="hljs-built_in">enable</span><br><span class="hljs-comment">#</span><br> dhcp snooping <span class="hljs-built_in">enable</span><br><span class="hljs-comment">#</span><br>interface Vlan-interface1151<br> ip address 172.25.12.254 255.255.255.0<br> dhcp select relay<br> dhcp relay server-address 172.30.16.134<br> dhcp relay source-address 172.25.12.254<br></code></pre></td></tr></table></figure><h3 id="Ruijie"><a href="#Ruijie" class="headerlink" title="Ruijie"></a>Ruijie</h3><p><em><strong>WARNING!!! if ruijie device as access switch not get address, recommendation check “service dhcp”</strong></em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">ip dhcp snooping<br>service dhcp<br>interface VLAN 1151<br> ip address 172.25.11.254 255.255.255.0<br> ip address 172.28.175.254 255.255.255.0 secondary<br> ip helper-address 172.30.16.134<br></code></pre></td></tr></table></figure><h1 id="Appreciation-of-beautiful-pictures"><a href="#Appreciation-of-beautiful-pictures" class="headerlink" title="Appreciation of beautiful pictures"></a>Appreciation of beautiful pictures</h1><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/001.webp" alt="001.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/002.webp" alt="002.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/003.webp" alt="003.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/004.webp" alt="004.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/005.webp" alt="005.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/006.webp" alt="006.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/008.webp" alt="008.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/007.webp" alt="007.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/009.webp" alt="009.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/010.webp" alt="010.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/011.webp" alt="011.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/012.webp" alt="012.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/013.webp" alt="013.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/014.webp" alt="014.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/015.webp" alt="015.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/016.webp" alt="016.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/017.webp" alt="017.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/018.webp" alt="018.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/019.webp" alt="019.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/020.webp" alt="020.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/022.webp" alt="022.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/021.webp" alt="021.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/023.webp" alt="023.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/024.webp" alt="024.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/025.webp" alt="025.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/026.webp" alt="026.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/027.webp" alt="027.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/028.webp" alt="028.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/030.webp" alt="030.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/029.webp" alt="029.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/032.webp" alt="032.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/031.webp" alt="031.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/033.webp" alt="033.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/034.webp" alt="034.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/035.webp" alt="035.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/036.webp" alt="036.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/037.webp" alt="037.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/038.webp" alt="038.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/039.webp" alt="039.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/040.webp" alt="040.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/041.webp" alt="041.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/042.webp" alt="042.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/043.webp" alt="043.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/044.webp" alt="044.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/045.webp" alt="045.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/046.webp" alt="046.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/047.webp" alt="047.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/048.webp" alt="048.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/049.webp" alt="049.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/050.webp" alt="050.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/051.webp" alt="051.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/052.webp" alt="052.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/053.webp" alt="053.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/054.webp" alt="054.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/055.webp" alt="055.webp"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2023/01/03/056.webp" alt="056.webp"></p>]]></content>
    
    
    <categories>
      
      <category>Wireless</category>
      
      <category>DHCP-Relay</category>
      
      <category>unable to go online</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Juniper</tag>
      
      <tag>Wireless</tag>
      
      <tag>H3C</tag>
      
      <tag>DHCP-Relay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Juniper QFX OSPF NSSA default LSA</title>
    <link href="/2022/12/29/Juniper-QFX-OSPF-NSSA-default-LSA/"/>
    <url>/2022/12/29/Juniper-QFX-OSPF-NSSA-default-LSA/</url>
    
    <content type="html"><![CDATA[<p>Juniper OSPF NSSA generates default give access layer device</p><span id="more"></span><h1 id="Our-Aggregation-layer-device-use-QFX-series-Connecting-with-access-layer-devices-using-OSPF-NSSA-areas"><a href="#Our-Aggregation-layer-device-use-QFX-series-Connecting-with-access-layer-devices-using-OSPF-NSSA-areas" class="headerlink" title="Our Aggregation layer device use QFX series, Connecting with access layer devices using OSPF NSSA areas"></a>Our Aggregation layer device use QFX series, Connecting with access layer devices using OSPF NSSA areas</h1><p>Access layer device needs default route from up layer device</p><blockquote><p>add nssa default-lsa default-metric 10</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">set</span> protocols ospf area <span class="hljs-number">172.18</span><span class="hljs-number">.16</span><span class="hljs-number">.4</span> nssa default-lsa default-metric <span class="hljs-number">10</span><br><span class="hljs-built_in">set</span> protocols ospf area <span class="hljs-number">172.18</span><span class="hljs-number">.16</span><span class="hljs-number">.4</span> nssa no-summaries<br><span class="hljs-built_in">set</span> protocols ospf area <span class="hljs-number">172.18</span><span class="hljs-number">.16</span><span class="hljs-number">.4</span> interface xe-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0.0</span><br></code></pre></td></tr></table></figure><h1 id="Demo-configure"><a href="#Demo-configure" class="headerlink" title="Demo configure"></a>Demo configure</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">set</span> interfaces xe-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span> description Hospital-L3<br><span class="hljs-built_in">set</span> interfaces xe-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span> unit <span class="hljs-number">0</span> family inet address <span class="hljs-number">172.18</span><span class="hljs-number">.16</span><span class="hljs-number">.1</span>/<span class="hljs-number">30</span><br><span class="hljs-built_in">set</span> protocols ospf area <span class="hljs-number">172.18</span><span class="hljs-number">.16</span><span class="hljs-number">.0</span> nssa no-summaries<br><span class="hljs-built_in">set</span> protocols ospf area <span class="hljs-number">172.18</span><span class="hljs-number">.16</span><span class="hljs-number">.0</span> interface xe-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0.0</span><br><span class="hljs-built_in">set</span> protocols ospf area <span class="hljs-number">172.18</span><span class="hljs-number">.16</span><span class="hljs-number">.0</span> nssa default-lsa default-metric <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Juniper</category>
      
      <category>OSPF</category>
      
      <category>NSSA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Juniper</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python Django module install</title>
    <link href="/2022/12/28/Python-Django-module-install/"/>
    <url>/2022/12/28/Python-Django-module-install/</url>
    
    <content type="html"><![CDATA[<p>Python Django install and build</p><span id="more"></span><h1 id="Python-Django-install-and-build"><a href="#Python-Django-install-and-build" class="headerlink" title="Python Django install and build"></a>Python Django install and build</h1><blockquote><p>OS environment is Centos7</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-comment"># if install speed to low, try other sourece</span><br>pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple packages-name<br><br><br><span class="hljs-comment"># Django error SQLite to low.</span><br>django.core.exceptions.ImproperlyConfigured: SQLite <span class="hljs-number">3.9</span><span class="hljs-number">.0</span> <span class="hljs-keyword">or</span> later <span class="hljs-keyword">is</span> required (found <span class="hljs-number">3.7</span><span class="hljs-number">.17</span>)<br><br><span class="hljs-comment"># 下载最新版本 pysqlite3 替换系统 sqllite</span><br>pip3 install pysqlite3<br>pip3 install pysqlite3-binary<br><br>[root@test ~] vim /usr/local/python3/lib/python3.x/site-packages/django/db/backends/sqlite3/base.py<br><span class="hljs-comment"># change sqlite3</span><br><span class="hljs-comment"># from sqlite3 import dbapi2 as Database # disable</span><br><span class="hljs-keyword">from</span> pysqlite3 <span class="hljs-keyword">import</span> dbapi2 <span class="hljs-keyword">as</span> Database <span class="hljs-comment"># change to pysqlite3</span><br><br><br><span class="hljs-comment"># Create django project.</span><br><br>mkdir -p /home/django/django_network_automation<br>cd /home/django<br>django-admin startproject django_network_automation .<br>django-admin startapp network_automation<br><br>[root@local ]<span class="hljs-comment"># cat django_network_automation/settings.py | grep ALL -n</span><br><span class="hljs-number">28</span>:ALLOWED_HOSTS = [<span class="hljs-string">&#x27;172.16.x.x&#x27;</span>]<br><span class="hljs-comment"># add allow_hosts as service address</span><br><br><span class="hljs-comment"># start django web server.</span><br>python3 manage.py runserver <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">8001</span><br><br><br>python3 manage.py makemigrations.py<br>python3 manage.py migrate<br><br>python3 manage.py createsuperuser<br><span class="hljs-comment"># django settings.py 48行 注释掉，否则反代理无法使用</span><br><span class="hljs-comment">#&#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;,</span><br></code></pre></td></tr></table></figure><h1 id="Beautiful-girl-picture"><a href="#Beautiful-girl-picture" class="headerlink" title="Beautiful girl picture"></a>Beautiful girl picture</h1><blockquote><p>美清新爆乳混血宝贝久久Aimee激情撩人情趣内衣</p></blockquote><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0002ae2c8228dc555089.jpg" alt="0002ae2c8228dc555089.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00013322a6c21e960d78.jpg" alt="00013322a6c21e960d78.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0003af8eb38b427dc34b.jpg" alt="0003af8eb38b427dc34b.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00045a5e6851b880ee60.jpg" alt="00045a5e6851b880ee60.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00052abe3ec978049f04.jpg" alt="00052abe3ec978049f04.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0006fac856a5086b07e7.jpg" alt="0006fac856a5086b07e7.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/000756929f260165a941.jpg" alt="000756929f260165a941.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00082e19b70c746b930d.jpg" alt="00082e19b70c746b930d.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0009a59b2e6c1e8fda44.jpg" alt="0009a59b2e6c1e8fda44.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0010994776fb790782f4.jpg" alt="0010994776fb790782f4.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00111101a57c93a9a10e.jpg" alt="00111101a57c93a9a10e.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/001238bfbac3cc6c8f33.jpg" alt="001238bfbac3cc6c8f33.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/001389044b8f78b9dd19.jpg" alt="001389044b8f78b9dd19.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0014227ae6095081a09b.jpg" alt="0014227ae6095081a09b.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/001523d9b13799b2c424.jpg" alt="001523d9b13799b2c424.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/001672c96c795ad4da3c.jpg" alt="001672c96c795ad4da3c.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0017b427e0b4fb53da7a.jpg" alt="0017b427e0b4fb53da7a.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/001863b5c15bd6cf5882.jpg" alt="001863b5c15bd6cf5882.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0019badf6da8e84c1719.jpg" alt="0019badf6da8e84c1719.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0020c4ef087af29ef4bb.jpg" alt="0020c4ef087af29ef4bb.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00210551b93c195db1d3.jpg" alt="00210551b93c195db1d3.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0022eb76e3ae8fa1118f.jpg" alt="0022eb76e3ae8fa1118f.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/002321149f62e3bed97f.jpg" alt="002321149f62e3bed97f.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00241da01fb40c773eb3.jpg" alt="00241da01fb40c773eb3.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0025e07e85a1f96c8275.jpg" alt="0025e07e85a1f96c8275.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0026b4511f207180885a.jpg" alt="0026b4511f207180885a.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00275e71ec6f3a2e8afb.jpg" alt="00275e71ec6f3a2e8afb.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/002869f7112e37bcf78b.jpg" alt="002869f7112e37bcf78b.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0029f54ebc0ea72f0197.jpg" alt="0029f54ebc0ea72f0197.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/003078c18338e61c9af9.jpg" alt="003078c18338e61c9af9.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0031e89eef74db1335d0.jpg" alt="0031e89eef74db1335d0.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00322cc078abc285d071.jpg" alt="00322cc078abc285d071.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0033d6d337a705a37ec0.jpg" alt="0033d6d337a705a37ec0.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/003426a4b0725057d5ef.jpg" alt="003426a4b0725057d5ef.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00352f924c23e33bf20a.jpg" alt="00352f924c23e33bf20a.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00368bc1bf8ba50cfa98.jpg" alt="00368bc1bf8ba50cfa98.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0037f67e93b1de0b726e.jpg" alt="0037f67e93b1de0b726e.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0038c270bab90ce75036.jpg" alt="0038c270bab90ce75036.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0039423ab091cf7f1807.jpg" alt="0039423ab091cf7f1807.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0040104782bb2572456d.jpg" alt="0040104782bb2572456d.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/004121599a2b9dd60ceb.jpg" alt="004121599a2b9dd60ceb.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0042bc4f5350daf32801.jpg" alt="0042bc4f5350daf32801.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/004363bb7b2bb43913a0.jpg" alt="004363bb7b2bb43913a0.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/004452eda172d0265c25.jpg" alt="004452eda172d0265c25.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/004519e52ca6645fd645.jpg" alt="004519e52ca6645fd645.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00465e9698875ace99f1.jpg" alt="00465e9698875ace99f1.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00479f944c9590c4682a.jpg" alt="00479f944c9590c4682a.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00480738ecef0137525c.jpg" alt="00480738ecef0137525c.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00497560289bb24d27bd.jpg" alt="00497560289bb24d27bd.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0050d705266095e81feb.jpg" alt="0050d705266095e81feb.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0051565648e7b07c8212.jpg" alt="0051565648e7b07c8212.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00524bad556af66b748a.jpg" alt="00524bad556af66b748a.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0053707bed1bb162e812.jpg" alt="0053707bed1bb162e812.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0054b18c229f326ccfea.jpg" alt="0054b18c229f326ccfea.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/005502101d605ba20228.jpg" alt="005502101d605ba20228.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/529572744.jpg" alt="529572744.jpg"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Demo</title>
    <link href="/2022/12/28/Demo/"/>
    <url>/2022/12/28/Demo/</url>
    
    <content type="html"><![CDATA[<p>The site demo environment</p><span id="more"></span><h1 id="The-website-build-in-Github"><a href="#The-website-build-in-Github" class="headerlink" title="The website build in Github"></a>The website build in Github</h1><blockquote><p>just save myslef use code, script and test a something<br>I’m like do that</p></blockquote><h1 id="Python-code-demo"><a href="#Python-code-demo" class="headerlink" title="Python code demo"></a>Python code demo</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_5120_48Y</span>(<span class="hljs-params"><span class="hljs-built_in">list</span></span>):<br><br>    _build_name, _L3_int, _ospf_area, _inet, _QinQ_int, _QinQ_vid, _campus  = <span class="hljs-built_in">list</span>[<span class="hljs-number">0</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">1</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">2</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">3</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">4</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">5</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">6</span>]<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;&#x27;</span>) == <span class="hljs-built_in">str</span>(_QinQ_int):<br>        result = <span class="hljs-string">f&#x27;&#x27;&#x27;# <span class="hljs-subst">&#123;_campus&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span> configure</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> description <span class="hljs-subst">&#123;_build_name&#125;</span>-L3</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit 0 family inet address <span class="hljs-subst">&#123;_inet&#125;</span></span><br><span class="hljs-string">set protocols ospf area <span class="hljs-subst">&#123;_ospf_area&#125;</span> nssa no-summaries</span><br><span class="hljs-string">set protocols ospf area <span class="hljs-subst">&#123;_ospf_area&#125;</span> interface <span class="hljs-subst">&#123;_L3_int&#125;</span></span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br><br><br>    <span class="hljs-keyword">else</span>:<br>        result = <span class="hljs-string">f&#x27;&#x27;&#x27;# <span class="hljs-subst">&#123;_campus&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span> configure</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> description <span class="hljs-subst">&#123;_build_name&#125;</span>-L3</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_L3_int&#125;</span> unit 0 family inet address <span class="hljs-subst">&#123;_inet&#125;</span></span><br><span class="hljs-string">set protocols ospf area <span class="hljs-subst">&#123;_ospf_area&#125;</span> nssa no-summaries</span><br><span class="hljs-string">set protocols ospf area <span class="hljs-subst">&#123;_ospf_area&#125;</span> interface <span class="hljs-subst">&#123;_L3_int&#125;</span>.0</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_QinQ_int&#125;</span> description <span class="hljs-subst">&#123;_build_name&#125;</span>-IPoE</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_QinQ_int&#125;</span> flexible-vlan-tagging</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_QinQ_int&#125;</span> encapsulation extended-vlan-bridge</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_QinQ_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> vlan-id-list 1001-1060</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_QinQ_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> input-vlan-map push</span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;_QinQ_int&#125;</span> unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> output-vlan-map pop</span><br><span class="hljs-string">set vlans QinQ<span class="hljs-subst">&#123;_QinQ_vid&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span> interface <span class="hljs-subst">&#123;_QinQ_int&#125;</span>.<span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set vlans QinQ<span class="hljs-subst">&#123;_QinQ_vid&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span> interface ae48.<span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set interfaces ae48 unit <span class="hljs-subst">&#123;_QinQ_vid&#125;</span> vlan-id <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br><br><br>    <span class="hljs-keyword">return</span> result<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_5120_32C</span>(<span class="hljs-params"><span class="hljs-built_in">list</span></span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    32C as vlan trunk will QinQ Label transit to BRAS</span><br><span class="hljs-string">    ae0 -ae4 JH, NH, XY, DY, YQ</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-comment"># get campus</span><br>    _build_name, _L3_int, _ospf_area, _inet, _QinQ_int, _QinQ_vid, _campus  = <span class="hljs-built_in">list</span>[<span class="hljs-number">0</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">1</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">2</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">3</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">4</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">5</span>],\<br>                                                                    <span class="hljs-built_in">list</span>[<span class="hljs-number">6</span>]<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;&#x27;</span>) == <span class="hljs-built_in">str</span>(_QinQ_int):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span>   <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;JH&#x27;</span>) <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(_campus):<br>            Campus = <span class="hljs-string">&#x27;ae0&#x27;</span><br><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;NH&#x27;</span>) <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(_campus):<br>            Campus = <span class="hljs-string">&#x27;ae1&#x27;</span><br><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;XY&#x27;</span>) <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(_campus):<br>            Campus = <span class="hljs-string">&#x27;ae2&#x27;</span><br><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">str</span>(<span class="hljs-string">&#x27;DY&#x27;</span>) <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(_campus):<br>            Campus = <span class="hljs-string">&#x27;ae3&#x27;</span><br><br>        <span class="hljs-keyword">else</span> :<br>            Campus = <span class="hljs-string">&#x27;ae4&#x27;</span><br><br>        <span class="hljs-comment"># ae21 ae22 to BRAS Port.</span><br><br>        result = <span class="hljs-string">f&#x27;&#x27;&#x27;# <span class="hljs-subst">&#123;_campus&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span></span><br><span class="hljs-string">set interfaces <span class="hljs-subst">&#123;Campus&#125;</span> unit 0 family ethernet-switching vlan members <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set interfaces ae21 unit 0 family ethernet-switching vlan members <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set interfaces ae22 unit 0 family ethernet-switching vlan members <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">set vlans QinQ_<span class="hljs-subst">&#123;_campus&#125;</span>_<span class="hljs-subst">&#123;_QinQ_vid&#125;</span>_<span class="hljs-subst">&#123;_build_name&#125;</span> vlan-id <span class="hljs-subst">&#123;_QinQ_vid&#125;</span></span><br><span class="hljs-string">        &#x27;&#x27;&#x27;</span><br>        <span class="hljs-keyword">return</span> result<br><br><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br><br>    <span class="hljs-comment"># _build_name, _L3_int, _ospf_area, _inet, _QinQ_int, _QinQ_vid, _campus = list</span><br><br>    <span class="hljs-built_in">list</span> = [<br>        (<span class="hljs-string">&#x27;12Dong&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/0&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.4&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.5/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/0&#x27;</span>, <span class="hljs-string">&#x27;1900&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;13Dong&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/1&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.8&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.9/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/1&#x27;</span>, <span class="hljs-string">&#x27;1901&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;14Dong&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/2&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.12&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.13/30&#x27;</span>,<span class="hljs-string">&#x27;xe-1/0/2&#x27;</span>, <span class="hljs-string">&#x27;1902&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;YueYuan1,2&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/3&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.16&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.17/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/3&#x27;</span>, <span class="hljs-string">&#x27;1903&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;YueYuan3&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/4&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.20&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.21/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/4&#x27;</span>, <span class="hljs-string">&#x27;1904&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;YueYuan4&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/5&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.24&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.25/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/5&#x27;</span>, <span class="hljs-string">&#x27;1905&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;YueYuan5&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/6&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.28&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.29/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/6&#x27;</span>, <span class="hljs-string">&#x27;1906&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;YueYuan6&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/7&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.32&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.33/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/7&#x27;</span>, <span class="hljs-string">&#x27;1907&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;YueYuan7&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/8&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.36&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.37/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/8&#x27;</span>, <span class="hljs-string">&#x27;1908&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br><br>        <span class="hljs-comment"># Ban Gong Qu</span><br>        (<span class="hljs-string">&#x27;GongGeLou&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/25&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.104&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.105/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/25&#x27;</span>, <span class="hljs-string">&#x27;1800&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;DaChuangYuan2&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/27&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.112&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.113/30&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;DaChuangYuan3,4&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/28&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.116&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.117/30&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;DaChuangYuan5&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/29&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.120&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.121/30&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;HuaShengDaLou&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/30&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.124&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.125/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/30&#x27;</span>, <span class="hljs-string">&#x27;1805&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;YueYuanShiTang&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/31&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.128&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.129/30&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;Bei5_BanGongQu&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/32&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.132&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.133/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/32&#x27;</span>, <span class="hljs-string">&#x27;1807&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;JiJianChu&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/33&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.136&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.137/30&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;TiYuChang&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/34&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.140&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.141/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/34&#x27;</span>, <span class="hljs-string">&#x27;1809&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;TiYuGuan&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/35&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.144&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.145/30&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;JingGuanXueYuan&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/37&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.152&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.153/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/37&#x27;</span>, <span class="hljs-string">&#x27;1812&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;LiXueYuan_BanGong&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/38&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.156&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.157/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/38&#x27;</span>, <span class="hljs-string">&#x27;1813&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;LiXueYuan_LiXueLou&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/39&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.160&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.161/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/39&#x27;</span>, <span class="hljs-string">&#x27;1814&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;LiXueYuan_WuLiLou&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/40&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.164&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.165/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/40&#x27;</span>, <span class="hljs-string">&#x27;1815&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;HuaXueLou&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/41&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.168&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.169/30&#x27;</span>, <span class="hljs-string">&#x27;xe-1/0/41&#x27;</span>, <span class="hljs-string">&#x27;1816&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br>        (<span class="hljs-string">&#x27;ZhiYuanShiTang&#x27;</span>, <span class="hljs-string">&#x27;xe-0/0/42&#x27;</span>, <span class="hljs-string">&#x27;172.18.16.172&#x27;</span>,  <span class="hljs-string">&#x27;172.18.16.173/30&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;NH&#x27;</span>),<br><br><br>    ]<br><br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>+<span class="hljs-string">&#x27;QFX5120-48Y&#x27;</span>+<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>.copy():<br>        <span class="hljs-built_in">print</span>(_5120_48Y(i))<br><br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>+<span class="hljs-string">&#x27;QFX5120-32C&#x27;</span>+<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>.copy():<br>        <span class="hljs-built_in">print</span>(_5120_32C(i))<br><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br></code></pre></td></tr></table></figure><h1 id="Video-code"><a href="#Video-code" class="headerlink" title="Video code"></a>Video code</h1><h2 id="our-inside-site-video-test"><a href="#our-inside-site-video-test" class="headerlink" title="our inside site video test"></a>our inside site video test</h2><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//alist.xiaoxqian.xyz:8443/mmt/sdd1/qBittorrent/javdb/nhdtb-726b/nhdtb-726b.mp4" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><h2 id="Stocking-video-test"><a href="#Stocking-video-test" class="headerlink" title="Stocking video test"></a>Stocking video test</h2><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//alist.xiaoxqian.xyz:8443/mmt/sdd1/qBittorrent/javdb/IPX-547/IPX-547.mp4" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><h2 id="Big-tits"><a href="#Big-tits" class="headerlink" title="Big tits"></a>Big tits</h2><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//alist.xiaoxqian.xyz:8443/mmt/sdd1/qBittorrent/javdb/blk-553-C/blk-553-C.mp4" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><h1 id="MarkDown-Picture-demo"><a href="#MarkDown-Picture-demo" class="headerlink" title="MarkDown Picture demo"></a>MarkDown Picture demo</h1><h3 id="秀人网短发妖娆爆乳技师蓝夏Akasha黑丝情趣户外艺术写真"><a href="#秀人网短发妖娆爆乳技师蓝夏Akasha黑丝情趣户外艺术写真" class="headerlink" title="秀人网短发妖娆爆乳技师蓝夏Akasha黑丝情趣户外艺术写真"></a>秀人网短发妖娆爆乳技师蓝夏Akasha黑丝情趣户外艺术写真</h3><blockquote><p>[秀人网XiuRen] N02635 短发妖娆爆乳技师蓝夏Akasha黑丝情趣户外艺术写真 60P</p></blockquote><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/N02635.jpg" alt="0000.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0001.jpg" alt="0001.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0002.jpg" alt="0002.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0003.jpg" alt="0003.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0004.jpg" alt="0004.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0005.jpg" alt="0005.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0006.jpg" alt="0006.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0007.jpg" alt="0007.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0008.jpg" alt="0008.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0009.jpg" alt="0009.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0010.jpg" alt="0010.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0011.jpg" alt="0011.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0012.jpg" alt="0012.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0013.jpg" alt="0013.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0014.jpg" alt="0014.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0015.jpg" alt="0015.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0016.jpg" alt="0016.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0017.jpg" alt="0017.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0018.jpg" alt="0018.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0019.jpg" alt="0019.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0020.jpg" alt="0020.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0021.jpg" alt="0021.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0022.jpg" alt="0022.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0023.jpg" alt="0023.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0024.jpg" alt="0024.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0025.jpg" alt="0025.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0026.jpg" alt="0026.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0027.jpg" alt="0027.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0028.jpg" alt="0028.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0029.jpg" alt="0029.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0030.jpg" alt="0030.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0031.jpg" alt="0031.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0032.jpg" alt="0032.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0033.jpg" alt="0033.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0034.jpg" alt="0034.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0035.jpg" alt="0035.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0036.jpg" alt="0036.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0037.jpg" alt="0037.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0038.jpg" alt="0038.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0039.jpg" alt="0039.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0040.jpg" alt="0040.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0041.jpg" alt="0041.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0042.jpg" alt="0042.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0043.jpg" alt="0043.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0044.jpg" alt="0044.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0045.jpg" alt="0045.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0046.jpg" alt="0046.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0047.jpg" alt="0047.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0048.jpg" alt="0048.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0049.jpg" alt="0049.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0050.jpg" alt="0050.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0051.jpg" alt="0051.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0052.jpg" alt="0052.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0053.jpg" alt="0053.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0054.jpg" alt="0054.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0055.jpg" alt="0055.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0056.jpg" alt="0056.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0057.jpg" alt="0057.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0058.jpg" alt="0058.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0059.jpg" alt="0059.jpg"><br><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/0060.jpg" alt="0060.jpg"></p>]]></content>
    
    
    
    <tags>
      
      <tag>test</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdown Ponint test</title>
    <link href="/2022/12/28/Markdown%20Ponit%20test/"/>
    <url>/2022/12/28/Markdown%20Ponit%20test/</url>
    
    <content type="html"><![CDATA[<p>The Markdown anchor syntax</p><span id="more"></span><ul><li><a href="#nextcloud">Nextcloud</a><ul><li><a href="#nextcloud24_fpm">Nextcloud24-fpm</a></li></ul></li><li><a href="#Point">Ponit</a><ul><li><a href="#PonitMarkdown">Point Markdown</a></li></ul></li><li><a href="#end">End</a><ul><li><a href="#beauty_gril">Beaulty Gril</a></li></ul></li></ul><h2 id="nextcloud"> Nextcloud </h2><h3 id="nextcloud24_fpm"> Nextcloud24-fpm </h3><p>Our needs Nginx as web engine </p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;2&#x27;</span><br><br><span class="hljs-attr">volumes:</span><br>  <span class="hljs-attr">nextcloud:</span><br>  <span class="hljs-attr">db:</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">nextcloud24_fpm:</span><br><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">db:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">mysql</span><br>    <span class="hljs-attr">command:</span> <span class="hljs-string">--default-authentication-plugin=mysql_native_password</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">nextcloud24_fpm</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">db:/var/lib/mysql</span>       <br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_ROOT_PASSWORD=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_PASSWORD=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_DATABASE=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_USER=nextcloud</span><br><br><br><br>  <span class="hljs-attr">app:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">nextcloud:24.0.9-fpm</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-comment">#command: bash -c &quot;apt update -y &amp;&amp; apt install ffmpeg -y&quot;</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">nextcloud24_fpm</span><br>    <span class="hljs-attr">links:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">nextcloud:/var/www/html</span><br>      <span class="hljs-comment">#- local-date-path:/var/www/html/data/huqian/files</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_PASSWORD=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_DATABASE=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_USER=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_HOST=db</span><br><br>  <span class="hljs-attr">web:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-attr">nextcloud24_fpm:</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">58080</span><span class="hljs-string">:80</span><br>    <span class="hljs-attr">links:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">app</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/mnt/KIOXIA_500G/data/nextcloud_nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span><br>    <span class="hljs-attr">volumes_from:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">app</span><br></code></pre></td></tr></table></figure><h2 id="Point"> Point </h2><h3 id="PonitMarkdown"> Point Markdown test </h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-string">*</span>  [<span class="hljs-string">Nextcloud</span>]<span class="hljs-string">(#nextcloud)</span><br>    <span class="hljs-string">*</span>  [<span class="hljs-string">Nextcloud24-fpm</span>]<span class="hljs-string">(#nextcloud24_fpm)</span><br><span class="hljs-string">*</span>  [<span class="hljs-string">End</span>]<span class="hljs-string">(#end)</span><br>    <span class="hljs-string">*</span>  [<span class="hljs-string">Beaulty</span> <span class="hljs-string">Gril</span>]<span class="hljs-string">(#beauty_gril)</span>  <br><br><br><br><br><br><span class="hljs-string">&lt;h2</span> <span class="hljs-string">id=&quot;nextcloud&quot;&gt;</span> <span class="hljs-string">Nextcloud</span> <span class="hljs-string">&lt;/h2&gt;</span><br><span class="hljs-string">&lt;h3</span> <span class="hljs-string">id=&quot;nextcloud24_fpm&quot;&gt;</span> <span class="hljs-string">Nextcloud24-fpm</span> <span class="hljs-string">&lt;/h3&gt;</span><br><br><span class="hljs-string">Our</span> <span class="hljs-string">needs</span> <span class="hljs-string">Nginx</span> <span class="hljs-string">as</span> <span class="hljs-string">web</span> <span class="hljs-string">engine</span> <br><br><span class="hljs-string">```docker</span><br><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;2&#x27;</span><br><br><span class="hljs-attr">volumes:</span><br>  <span class="hljs-attr">nextcloud:</span><br>  <span class="hljs-attr">db:</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">nextcloud24_fpm:</span><br><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">db:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">mysql</span><br>    <span class="hljs-attr">command:</span> <span class="hljs-string">--default-authentication-plugin=mysql_native_password</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">nextcloud24_fpm</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">db:/var/lib/mysql</span>       <br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_ROOT_PASSWORD=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_PASSWORD=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_DATABASE=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_USER=nextcloud</span><br><br><br><br>  <span class="hljs-attr">app:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">nextcloud:24.0.9-fpm</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-comment">#command: bash -c &quot;apt update -y &amp;&amp; apt install ffmpeg -y&quot;</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">nextcloud24_fpm</span><br>    <span class="hljs-attr">links:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">nextcloud:/var/www/html</span><br>      <span class="hljs-comment">#- local-date-path:/var/www/html/data/huqian/files</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_PASSWORD=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_DATABASE=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_USER=nextcloud</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_HOST=db</span><br><br>  <span class="hljs-attr">web:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-attr">nextcloud24_fpm:</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">58080</span><span class="hljs-string">:80</span><br>    <span class="hljs-attr">links:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">app</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/mnt/KIOXIA_500G/data/nextcloud_nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span><br>    <span class="hljs-attr">volumes_from:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">app</span><br><br><br><br><span class="hljs-string">&lt;h2</span> <span class="hljs-string">id=&quot;end&quot;&gt;End&lt;/h2&gt;</span><br><span class="hljs-string">&lt;h3</span> <span class="hljs-string">id=&quot;beauty_gril&quot;&gt;Beauty</span> <span class="hljs-string">Gril&lt;/h3&gt;</span><br><br><br><span class="hljs-type">![Beaulty</span><span class="hljs-string">-gril](https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00128c0c293339e083ea.jpg)</span><br></code></pre></td></tr></table></figure><h2 id="end">End</h2><h3 id="beauty_gril">Beauty Gril</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">test</span><br></code></pre></td></tr></table></figure><p><img src="https://pictures.xiaoxqian.xyz:8443/images/2022/12/27/00128c0c293339e083ea.jpg" alt="Beaulty-gril"></p>]]></content>
    
    
    
    <tags>
      
      <tag>test</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/12/28/hello-world/"/>
    <url>/2022/12/28/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><h1 id="Enbody-video"><a href="#Enbody-video" class="headerlink" title="Enbody video"></a>Enbody video</h1><h2 id="Kodcloud"><a href="#Kodcloud" class="headerlink" title="Kodcloud"></a>Kodcloud</h2><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//kodcloud.xiaoxqian.xyz:8443/#s/82OoO7lQ" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><h2 id="Nextcloud"><a href="#Nextcloud" class="headerlink" title="Nextcloud"></a>Nextcloud</h2><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//cloud.xiaoxqian.xyz:20443/index.php/s/RojziyrTMMBZmwL" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
